import e,{memo as t,useEffect as n,useRef as r,useState as o,useCallback as i,useMemo as a}from"react";import s from"prop-types";import c from"dcv";import{Popover as l,StatusIndicator as u,Button as d,Modal as m,Box as f,SpaceBetween as p,Textarea as h,Grid as g,Link as b,Tabs as v,RadioGroup as y,Alert as w,Select as E,ColumnLayout as S,Toggle as x,ButtonDropdown as k,Header as M,LineChart as C,Pagination as O,BreadcrumbGroup as R,Table as T,Icon as I,Input as A,Container as D,Badge as F,ProgressBar as B,Spinner as _}from"@cloudscape-design/components";import{applyMode as N,Mode as P,applyDensity as L,Density as $}from"@cloudscape-design/global-styles";import{colorChartsPaletteCategorical1 as j,colorChartsPaletteCategorical2 as z,colorChartsPaletteCategorical3 as W,colorBorderDividerDefault as U,colorBackgroundContainerHeader as V,colorBackgroundContainerContent as H,colorTextBodyDefault as q}from"@cloudscape-design/design-tokens";import G from"@babel/runtime/helpers/extends";import K from"react-dom";var Q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z,J={exports:{}};var X,ee,te,ne=(Z||(Z=1,ee=J.exports,te=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function u(r,o,i){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?s:void 0!==console[r]?a(console,r):void 0!==console.log?a(console,"log"):e)}(r)||l.apply(this,arguments)}function d(e,n){var a,s,l,d=this,m="loglevel";function f(){var e;if(typeof window!==t&&m){try{e=window.localStorage[m]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(m),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function p(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?m+=":"+e:"symbol"==typeof e&&(m=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=n||u,d.getLevel=function(){return null!=l?l:null!=s?s:a},d.setLevel=function(e,n){return l=p(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&m){try{return void(window.localStorage[m]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(m)+"="+n+";"}catch(e){}}}(l),c.call(d)},d.setDefaultLevel=function(e){s=p(e),f()||d.setLevel(e,!1)},d.resetLevel=function(){l=null,function(){if(typeof window!==t&&m){try{window.localStorage.removeItem(m)}catch(e){}try{window.document.cookie=encodeURIComponent(m)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),c.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(i!==d&&(a=p(i.getLevel())),c.call(d),i===d)for(var e in o)o[e].rebuild()},a=p(i?i.getLevel():"WARN");var h=f();null!=h&&(l=p(h)),c.call(d)}(i=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new d(e,i.methodFactory)),t};var m=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=m),i},i.getLoggers=function(){return o},i.default=i,i},(X=J).exports?X.exports=te():ee.log=te()),J.exports),re=Y(ne);const oe=re.getLogger("DCV-web-sdk-UI");class ie{constructor(e){this.name=e,this.dateObject=new Date}trace(e){const t=this.dateObject;t.setTime(Date.now()),oe.trace(`${t.toISOString()} - [UI][${this.name}] TRACE ${e}`)}debug(e){const t=this.dateObject;t.setTime(Date.now()),oe.debug(`${t.toISOString()} - [UI][${this.name}] DEBUG ${e}`)}info(e){const t=this.dateObject;t.setTime(Date.now()),oe.info(`${t.toISOString()} - [UI][${this.name}] INFO ${e}`)}warn(e){const t=this.dateObject;t.setTime(Date.now()),oe.warn(`${t.toISOString()} - [UI][${this.name}] WARN ${e}`)}error(e){const t=this.dateObject;t.setTime(Date.now()),oe.error(`${t.toISOString()} - [UI][${this.name}] ERROR ${e}`)}}function ae(e){return new ie(e)}var se,ce,le={};function ue(){if(ce)return se;ce=1;var e=function(e){return e&&e.Math===Math&&e};return se=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof Q&&Q)||e("object"==typeof se&&se)||function(){return this}()||Function("return this")()}var de,me,fe,pe,he,ge,be,ve,ye={};function we(){return me?de:(me=1,de=function(e){try{return!!e()}catch(e){return!0}})}function Ee(){if(pe)return fe;pe=1;var e=we();return fe=!e(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}function Se(){if(ge)return he;ge=1;var e=we();return he=!e(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})}function xe(){if(ve)return be;ve=1;var e=Se(),t=Function.prototype.call;return be=e?t.bind(t):function(){return t.apply(t,arguments)},be}var ke,Me,Ce,Oe,Re,Te,Ie,Ae,De,Fe,Be,_e,Ne,Pe,Le,$e,je,ze,We,Ue,Ve,He,qe,Ge,Ke,Qe,Ye,Ze,Je,Xe,et,tt,nt,rt,ot,it,at,st,ct,lt,ut,dt={};function mt(){return Ce?Me:(Ce=1,Me=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}})}function ft(){if(Re)return Oe;Re=1;var e=Se(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return Oe=e?r:function(e){return function(){return n.apply(e,arguments)}},Oe}function pt(){if(Ie)return Te;Ie=1;var e=ft(),t=e({}.toString),n=e("".slice);return Te=function(e){return n(t(e),8,-1)}}function ht(){return Be?Fe:(Be=1,Fe=function(e){return null==e})}function gt(){if(Ne)return _e;Ne=1;var e=ht(),t=TypeError;return _e=function(n){if(e(n))throw new t("Can't call method on "+n);return n}}function bt(){if(Le)return Pe;Le=1;var e=function(){if(De)return Ae;De=1;var e=ft(),t=we(),n=pt(),r=Object,o=e("".split);return Ae=t(function(){return!r("z").propertyIsEnumerable(0)})?function(e){return"String"===n(e)?o(e,""):r(e)}:r}(),t=gt();return Pe=function(n){return e(t(n))}}function vt(){if(je)return $e;je=1;var e="object"==typeof document&&document.all;return $e=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(e){return"function"==typeof e}}function yt(){if(We)return ze;We=1;var e=vt();return ze=function(t){return"object"==typeof t?null!==t:e(t)}}function wt(){if(Ve)return Ue;Ve=1;var e=ue(),t=vt();return Ue=function(n,r){return arguments.length<2?(o=e[n],t(o)?o:void 0):e[n]&&e[n][r];var o},Ue}function Et(){if(qe)return He;qe=1;var e=ft();return He=e({}.isPrototypeOf)}function St(){if(Ye)return Qe;Ye=1;var e,t,n=ue(),r=function(){if(Ke)return Ge;Ke=1;var e=ue().navigator,t=e&&e.userAgent;return Ge=t?String(t):""}(),o=n.process,i=n.Deno,a=o&&o.versions||i&&i.version,s=a&&a.v8;return s&&(t=(e=s.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!t&&r&&(!(e=r.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=r.match(/Chrome\/(\d+)/))&&(t=+e[1]),Qe=t}function xt(){if(Je)return Ze;Je=1;var e=St(),t=we(),n=ue().String;return Ze=!!Object.getOwnPropertySymbols&&!t(function(){var t=Symbol("symbol detection");return!n(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41})}function kt(){if(et)return Xe;et=1;var e=xt();return Xe=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function Mt(){if(nt)return tt;nt=1;var e=wt(),t=vt(),n=Et(),r=kt(),o=Object;return tt=r?function(e){return"symbol"==typeof e}:function(r){var i=e("Symbol");return t(i)&&n(i.prototype,o(r))}}function Ct(){if(ot)return rt;ot=1;var e=String;return rt=function(t){try{return e(t)}catch(e){return"Object"}}}function Ot(){if(at)return it;at=1;var e=vt(),t=Ct(),n=TypeError;return it=function(r){if(e(r))return r;throw new n(t(r)+" is not a function")}}function Rt(){if(ct)return st;ct=1;var e=Ot(),t=ht();return st=function(n,r){var o=n[r];return t(o)?void 0:e(o)}}function Tt(){if(ut)return lt;ut=1;var e=xe(),t=vt(),n=yt(),r=TypeError;return lt=function(o,i){var a,s;if("string"===i&&t(a=o.toString)&&!n(s=e(a,o)))return s;if(t(a=o.valueOf)&&!n(s=e(a,o)))return s;if("string"!==i&&t(a=o.toString)&&!n(s=e(a,o)))return s;throw new r("Can't convert object to primitive value")}}var It,At,Dt,Ft,Bt,_t,Nt,Pt,Lt,$t,jt,zt,Wt,Ut,Vt,Ht,qt,Gt,Kt,Qt,Yt,Zt,Jt,Xt,en={exports:{}};function tn(){return At?It:(At=1,It=!1)}function nn(){if(Ft)return Dt;Ft=1;var e=ue(),t=Object.defineProperty;return Dt=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0})}catch(t){e[n]=r}return r}}function rn(){if(Bt)return en.exports;Bt=1;var e=tn(),t=ue(),n=nn(),r="__core-js_shared__",o=en.exports=t[r]||n(r,{});return(o.versions||(o.versions=[])).push({version:"3.45.1",mode:e?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),en.exports}function on(){if(Nt)return _t;Nt=1;var e=rn();return _t=function(t,n){return e[t]||(e[t]=n||{})}}function an(){if(Lt)return Pt;Lt=1;var e=gt(),t=Object;return Pt=function(n){return t(e(n))}}function sn(){if(jt)return $t;jt=1;var e=ft(),t=an(),n=e({}.hasOwnProperty);return $t=Object.hasOwn||function(e,r){return n(t(e),r)}}function cn(){if(Wt)return zt;Wt=1;var e=ft(),t=0,n=Math.random(),r=e(1.1.toString);return zt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+r(++t+n,36)}}function ln(){if(Vt)return Ut;Vt=1;var e=ue(),t=on(),n=sn(),r=cn(),o=xt(),i=kt(),a=e.Symbol,s=t("wks"),c=i?a.for||a:a&&a.withoutSetter||r;return Ut=function(e){return n(s,e)||(s[e]=o&&n(a,e)?a[e]:c("Symbol."+e)),s[e]}}function un(){if(qt)return Ht;qt=1;var e=xe(),t=yt(),n=Mt(),r=Rt(),o=Tt(),i=ln(),a=TypeError,s=i("toPrimitive");return Ht=function(i,c){if(!t(i)||n(i))return i;var l,u=r(i,s);if(u){if(void 0===c&&(c="default"),l=e(u,i,c),!t(l)||n(l))return l;throw new a("Can't convert object to primitive value")}return void 0===c&&(c="number"),o(i,c)}}function dn(){if(Kt)return Gt;Kt=1;var e=un(),t=Mt();return Gt=function(n){var r=e(n,"string");return t(r)?r:r+""}}function mn(){if(Yt)return Qt;Yt=1;var e=ue(),t=yt(),n=e.document,r=t(n)&&t(n.createElement);return Qt=function(e){return r?n.createElement(e):{}}}function fn(){if(Jt)return Zt;Jt=1;var e=Ee(),t=we(),n=mn();return Zt=!e&&!t(function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a})}function pn(){if(Xt)return ye;Xt=1;var e=Ee(),t=xe(),n=function(){if(ke)return dt;ke=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return dt.f=n?function(e){var n=t(this,e);return!!n&&n.enumerable}:e,dt}(),r=mt(),o=bt(),i=dn(),a=sn(),s=fn(),c=Object.getOwnPropertyDescriptor;return ye.f=e?c:function(e,l){if(e=o(e),l=i(l),s)try{return c(e,l)}catch(e){}if(a(e,l))return r(!t(n.f,e,l),e[l])},ye}var hn,gn,bn,vn,yn,wn,En,Sn={};function xn(){if(gn)return hn;gn=1;var e=Ee(),t=we();return hn=e&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function kn(){if(vn)return bn;vn=1;var e=yt(),t=String,n=TypeError;return bn=function(r){if(e(r))return r;throw new n(t(r)+" is not an object")}}function Mn(){if(yn)return Sn;yn=1;var e=Ee(),t=fn(),n=xn(),r=kn(),o=dn(),i=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,c="enumerable",l="configurable",u="writable";return Sn.f=e?n?function(e,t,n){if(r(e),t=o(t),r(n),"function"==typeof e&&"prototype"===t&&"value"in n&&u in n&&!n[u]){var i=s(e,t);i&&i[u]&&(e[t]=n.value,n={configurable:l in n?n[l]:i[l],enumerable:c in n?n[c]:i[c],writable:!1})}return a(e,t,n)}:a:function(e,n,s){if(r(e),n=o(n),r(s),t)try{return a(e,n,s)}catch(e){}if("get"in s||"set"in s)throw new i("Accessors not supported");return"value"in s&&(e[n]=s.value),e},Sn}function Cn(){if(En)return wn;En=1;var e=Ee(),t=Mn(),n=mt();return wn=e?function(e,r,o){return t.f(e,r,n(1,o))}:function(e,t,n){return e[t]=n,e}}var On,Rn,Tn,In,An,Dn,Fn,Bn,_n,Nn,Pn,Ln,$n,jn,zn,Wn={exports:{}};function Un(){if(In)return Tn;In=1;var e=ft(),t=vt(),n=rn(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(e){return r(e)}),Tn=n.inspectSource}function Vn(){if(Bn)return Fn;Bn=1;var e=on(),t=cn(),n=e("keys");return Fn=function(e){return n[e]||(n[e]=t(e))}}function Hn(){return Nn?_n:(Nn=1,_n={})}function qn(){if(Ln)return Pn;Ln=1;var e,t,n,r=function(){if(Dn)return An;Dn=1;var e=ue(),t=vt(),n=e.WeakMap;return An=t(n)&&/native code/.test(String(n))}(),o=ue(),i=yt(),a=Cn(),s=sn(),c=rn(),l=Vn(),u=Hn(),d="Object already initialized",m=o.TypeError,f=o.WeakMap;if(r||c.state){var p=c.state||(c.state=new f);p.get=p.get,p.has=p.has,p.set=p.set,e=function(e,t){if(p.has(e))throw new m(d);return t.facade=e,p.set(e,t),t},t=function(e){return p.get(e)||{}},n=function(e){return p.has(e)}}else{var h=l("state");u[h]=!0,e=function(e,t){if(s(e,h))throw new m(d);return t.facade=e,a(e,h,t),t},t=function(e){return s(e,h)?e[h]:{}},n=function(e){return s(e,h)}}return Pn={set:e,get:t,has:n,enforce:function(r){return n(r)?t(r):e(r,{})},getterFor:function(e){return function(n){var r;if(!i(n)||(r=t(n)).type!==e)throw new m("Incompatible receiver, "+e+" required");return r}}}}function Gn(){if($n)return Wn.exports;$n=1;var e=ft(),t=we(),n=vt(),r=sn(),o=Ee(),i=function(){if(Rn)return On;Rn=1;var e=Ee(),t=sn(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,o=t(n,"name"),i=o&&"something"===function(){}.name,a=o&&(!e||e&&r(n,"name").configurable);return On={EXISTS:o,PROPER:i,CONFIGURABLE:a}}().CONFIGURABLE,a=Un(),s=qn(),c=s.enforce,l=s.get,u=String,d=Object.defineProperty,m=e("".slice),f=e("".replace),p=e([].join),h=o&&!t(function(){return 8!==d(function(){},"length",{value:8}).length}),g=String(String).split("String"),b=Wn.exports=function(e,t,n){"Symbol("===m(u(t),0,7)&&(t="["+f(u(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!r(e,"name")||i&&e.name!==t)&&(o?d(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&r(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&r(n,"constructor")&&n.constructor?o&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var a=c(e);return r(a,"source")||(a.source=p(g,"string"==typeof t?t:"")),e};return Function.prototype.toString=b(function(){return n(this)&&l(this).source||a(this)},"toString"),Wn.exports}function Kn(){if(zn)return jn;zn=1;var e=vt(),t=Mn(),n=Gn(),r=nn();return jn=function(o,i,a,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:i;if(e(a)&&n(a,l,s),s.global)c?o[i]=a:r(i,a);else{try{s.unsafe?o[i]&&(c=!0):delete o[i]}catch(e){}c?o[i]=a:t.f(o,i,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return o}}var Qn,Yn,Zn,Jn,Xn,er,tr,nr,rr,or,ir,ar,sr,cr,lr,ur,dr,mr={};function fr(){if(Jn)return Zn;Jn=1;var e=function(){if(Yn)return Qn;Yn=1;var e=Math.ceil,t=Math.floor;return Qn=Math.trunc||function(n){var r=+n;return(r>0?t:e)(r)},Qn}();return Zn=function(t){var n=+t;return n!=n||0===n?0:e(n)}}function pr(){if(er)return Xn;er=1;var e=fr(),t=Math.max,n=Math.min;return Xn=function(r,o){var i=e(r);return i<0?t(i+o,0):n(i,o)}}function hr(){if(nr)return tr;nr=1;var e=fr(),t=Math.min;return tr=function(n){var r=e(n);return r>0?t(r,9007199254740991):0}}function gr(){if(or)return rr;or=1;var e=hr();return rr=function(t){return e(t.length)}}function br(){if(cr)return sr;cr=1;var e=ft(),t=sn(),n=bt(),r=function(){if(ar)return ir;ar=1;var e=bt(),t=pr(),n=gr(),r=function(r){return function(o,i,a){var s=e(o),c=n(s);if(0===c)return!r&&-1;var l,u=t(a,c);if(r&&i!=i){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((r||u in s)&&s[u]===i)return r||u||0;return!r&&-1}};return ir={includes:r(!0),indexOf:r(!1)}}().indexOf,o=Hn(),i=e([].push);return sr=function(e,a){var s,c=n(e),l=0,u=[];for(s in c)!t(o,s)&&t(c,s)&&i(u,s);for(;a.length>l;)t(c,s=a[l++])&&(~r(u,s)||i(u,s));return u},sr}function vr(){return ur?lr:(ur=1,lr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}var yr,wr,Er,Sr,xr,kr,Mr,Cr,Or,Rr,Tr,Ir,Ar,Dr,Fr,Br,_r,Nr,Pr,Lr,$r,jr,zr,Wr,Ur,Vr,Hr,qr,Gr,Kr,Qr,Yr,Zr,Jr,Xr,eo={};function to(){if(Er)return wr;Er=1;var e=wt(),t=ft(),n=function(){if(dr)return mr;dr=1;var e=br(),t=vr().concat("length","prototype");return mr.f=Object.getOwnPropertyNames||function(n){return e(n,t)},mr}(),r=(yr||(yr=1,eo.f=Object.getOwnPropertySymbols),eo),o=kn(),i=t([].concat);return wr=e("Reflect","ownKeys")||function(e){var t=n.f(o(e)),a=r.f;return a?i(t,a(e)):t}}function no(){if(xr)return Sr;xr=1;var e=sn(),t=to(),n=pn(),r=Mn();return Sr=function(o,i,a){for(var s=t(i),c=r.f,l=n.f,u=0;u<s.length;u++){var d=s[u];e(o,d)||a&&e(a,d)||c(o,d,l(i,d))}},Sr}function ro(){if(Or)return Cr;Or=1;var e=ue(),t=pn().f,n=Cn(),r=Kn(),o=nn(),i=no(),a=function(){if(Mr)return kr;Mr=1;var e=we(),t=vt(),n=/#|\.prototype\./,r=function(n,r){var c=i[o(n)];return c===s||c!==a&&(t(r)?e(r):!!r)},o=r.normalize=function(e){return String(e).replace(n,".").toLowerCase()},i=r.data={},a=r.NATIVE="N",s=r.POLYFILL="P";return kr=r}();return Cr=function(s,c){var l,u,d,m,f,p=s.target,h=s.global,g=s.stat;if(l=h?e:g?e[p]||o(p,{}):e[p]&&e[p].prototype)for(u in c){if(m=c[u],d=s.dontCallGetSet?(f=t(l,u))&&f.value:l[u],!a(h?u:p+(g?".":"#")+u,s.forced)&&void 0!==d){if(typeof m==typeof d)continue;i(m,d)}(s.sham||d&&d.sham)&&n(m,"sham",!0),r(l,u,m,s)}}}function oo(){if(Ar)return Ir;Ar=1;var e=function(){if(Tr)return Rr;Tr=1;var e=pt(),t=ft();return Rr=function(n){if("Function"===e(n))return t(n)}}(),t=Ot(),n=Se(),r=e(e.bind);return Ir=function(e,o){return t(e),void 0===o?e:n?r(e,o):function(){return e.apply(o,arguments)}},Ir}function io(){return Fr?Dr:(Fr=1,Dr={})}function ao(){if(_r)return Br;_r=1;var e=ln(),t=io(),n=e("iterator"),r=Array.prototype;return Br=function(e){return void 0!==e&&(t.Array===e||r[n]===e)}}function so(){if($r)return Lr;$r=1;var e=function(){if(Pr)return Nr;Pr=1;var e={};return e[ln()("toStringTag")]="z",Nr="[object z]"===String(e)}(),t=vt(),n=pt(),r=ln()("toStringTag"),o=Object,i="Arguments"===n(function(){return arguments}());return Lr=e?n:function(e){var a,s,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=function(e,t){try{return e[t]}catch(e){}}(a=o(e),r))?s:i?n(a):"Object"===(c=n(a))&&t(a.callee)?"Arguments":c}}function co(){if(zr)return jr;zr=1;var e=so(),t=Rt(),n=ht(),r=io(),o=ln()("iterator");return jr=function(i){if(!n(i))return t(i,o)||t(i,"@@iterator")||r[e(i)]}}function lo(){if(Ur)return Wr;Ur=1;var e=xe(),t=Ot(),n=kn(),r=Ct(),o=co(),i=TypeError;return Wr=function(a,s){var c=arguments.length<2?o(a):s;if(t(c))return n(e(c,a));throw new i(r(a)+" is not iterable")},Wr}function uo(){if(Hr)return Vr;Hr=1;var e=xe(),t=kn(),n=Rt();return Vr=function(r,o,i){var a,s;t(r);try{if(!(a=n(r,"return"))){if("throw"===o)throw i;return i}a=e(a,r)}catch(e){s=!0,a=e}if("throw"===o)throw i;if(s)throw a;return t(a),i}}function mo(){if(Gr)return qr;Gr=1;var e=oo(),t=xe(),n=kn(),r=Ct(),o=ao(),i=gr(),a=Et(),s=lo(),c=co(),l=uo(),u=TypeError,d=function(e,t){this.stopped=e,this.result=t},m=d.prototype;return qr=function(f,p,h){var g,b,v,y,w,E,S,x=h&&h.that,k=!(!h||!h.AS_ENTRIES),M=!(!h||!h.IS_RECORD),C=!(!h||!h.IS_ITERATOR),O=!(!h||!h.INTERRUPTED),R=e(p,x),T=function(e){return g&&l(g,"normal"),new d(!0,e)},I=function(e){return k?(n(e),O?R(e[0],e[1],T):R(e[0],e[1])):O?R(e,T):R(e)};if(M)g=f.iterator;else if(C)g=f;else{if(!(b=c(f)))throw new u(r(f)+" is not iterable");if(o(b)){for(v=0,y=i(f);y>v;v++)if((w=I(f[v]))&&a(m,w))return w;return new d(!1)}g=s(f,b)}for(E=M?f.next:g.next;!(S=t(E,g)).done;){try{w=I(S.value)}catch(e){l(g,"throw",e)}if("object"==typeof w&&w&&a(m,w))return w}return new d(!1)}}function fo(){return Qr?Kr:(Qr=1,Kr=function(e){return{iterator:e,next:e.next,done:!1}})}function po(){if(Zr)return Yr;Zr=1;var e=ue();return Yr=function(t,n){var r=e.Iterator,o=r&&r.prototype,i=o&&o[t],a=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(e){e instanceof n||(a=!1)}if(!a)return i}}Xr||(Xr=1,function(){if(Jr)return le;Jr=1;var e=ro(),t=xe(),n=mo(),r=Ot(),o=kn(),i=fo(),a=uo(),s=po()("forEach",TypeError);e({target:"Iterator",proto:!0,real:!0,forced:s},{forEach:function(e){o(this);try{r(e)}catch(e){a(this,"throw",e)}if(s)return t(s,this,e);var c=i(this),l=0;n(c,function(t){e(t,l++)},{IS_RECORD:!0})}})}());var ho,go={exports:{}};var bo=(ho||(ho=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,i),!0;case 6:return u.fn.call(u.context,t,r,o,i,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var m,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,o);break;default:if(!c)for(m=1,c=new Array(d-1);m<d;m++)c[m-1]=arguments[m];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||o&&!s[c].once||r&&s[c].context!==r)&&l.push(s[c]);l.length?this._events[i]=1===l.length?l[0]:l:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(go)),go.exports);const vo=new(Y(bo)),yo={on:(e,t)=>vo.on(e,t),once:(e,t)=>vo.once(e,t),off:(e,t)=>vo.off(e,t),emit:(e,...t)=>vo.emit(e,...t)};Object.freeze(yo);var wo,Eo,So,xo,ko,Mo,Co,Oo,Ro,To,Io,Ao,Do,Fo,Bo,_o,No,Po,Lo,$o,jo,zo,Wo,Uo,Vo,Ho,qo,Go={},Ko={};function Qo(){if(Eo)return wo;Eo=1;var e=br(),t=vr();return wo=Object.keys||function(n){return e(n,t)}}function Yo(){if(ko)return xo;ko=1;var e=wt();return xo=e("document","documentElement")}function Zo(){if(Co)return Mo;Co=1;var e,t=kn(),n=function(){if(So)return Ko;So=1;var e=Ee(),t=xn(),n=Mn(),r=kn(),o=bt(),i=Qo();return Ko.f=e&&!t?Object.defineProperties:function(e,t){r(e);for(var a,s=o(t),c=i(t),l=c.length,u=0;l>u;)n.f(e,a=c[u++],s[a]);return e},Ko}(),r=vr(),o=Hn(),i=Yo(),a=mn(),s=Vn(),c="prototype",l="script",u=s("IE_PROTO"),d=function(){},m=function(e){return"<"+l+">"+e+"</"+l+">"},f=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{e=new ActiveXObject("htmlfile")}catch(e){}var t,n,o;p="undefined"!=typeof document?document.domain&&e?f(e):(n=a("iframe"),o="java"+l+":",n.style.display="none",i.appendChild(n),n.src=String(o),(t=n.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):f(e);for(var s=r.length;s--;)delete p[c][r[s]];return p()};return o[u]=!0,Mo=Object.create||function(e,r){var o;return null!==e?(d[c]=t(e),o=new d,d[c]=null,o[u]=e):o=p(),void 0===r?o:n.f(o,r)}}function Jo(){if(Ro)return Oo;Ro=1;var e=Kn();return Oo=function(t,n,r){for(var o in n)e(t,o,n[o],r);return t}}function Xo(){if(Do)return Ao;Do=1;var e=sn(),t=vt(),n=an(),r=Vn(),o=function(){if(Io)return To;Io=1;var e=we();return To=!e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})}(),i=r("IE_PROTO"),a=Object,s=a.prototype;return Ao=o?a.getPrototypeOf:function(r){var o=n(r);if(e(o,i))return o[i];var c=o.constructor;return t(c)&&o instanceof c?c.prototype:o instanceof a?s:null}}function ei(){return No?_o:(No=1,_o=function(e,t){return{value:e,done:t}})}function ti(){if(Lo)return Po;Lo=1;var e=uo();return Po=function(t,n,r){for(var o=t.length-1;o>=0;o--)if(void 0!==t[o])try{r=e(t[o].iterator,n,r)}catch(e){n="throw",r=e}if("throw"===n)throw r;return r},Po}function ni(){if(jo)return $o;jo=1;var e=xe(),t=Zo(),n=Cn(),r=Jo(),o=ln(),i=qn(),a=Rt(),s=function(){if(Bo)return Fo;Bo=1;var e,t,n,r=we(),o=vt(),i=yt(),a=Zo(),s=Xo(),c=Kn(),l=ln(),u=tn(),d=l("iterator"),m=!1;return[].keys&&("next"in(n=[].keys())?(t=s(s(n)))!==Object.prototype&&(e=t):m=!0),!i(e)||r(function(){var t={};return e[d].call(t)!==t})?e={}:u&&(e=a(e)),o(e[d])||c(e,d,function(){return this}),Fo={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:m}}().IteratorPrototype,c=ei(),l=uo(),u=ti(),d=o("toStringTag"),m="IteratorHelper",f="WrapForValidIterator",p="normal",h="throw",g=i.set,b=function(n){var o=i.getterFor(n?f:m);return r(t(s),{next:function(){var e=o(this);if(n)return e.nextHandler();if(e.done)return c(void 0,!0);try{var t=e.nextHandler();return e.returnHandlerResult?t:c(t,e.done)}catch(t){throw e.done=!0,t}},return:function(){var t=o(this),r=t.iterator;if(t.done=!0,n){var i=a(r,"return");return i?e(i,r):c(void 0,!0)}if(t.inner)try{l(t.inner.iterator,p)}catch(e){return l(r,h,e)}if(t.openIters)try{u(t.openIters,p)}catch(e){return l(r,h,e)}return r&&l(r,p),c(void 0,!0)}})},v=b(!0),y=b(!1);return n(y,d,"Iterator Helper"),$o=function(e,t,n){var r=function(r,o){o?(o.iterator=r.iterator,o.next=r.next):o=r,o.type=t?f:m,o.returnHandlerResult=!!n,o.nextHandler=e,o.counter=0,o.done=!1,g(this,o)};return r.prototype=t?v:y,r}}function ri(){if(Wo)return zo;Wo=1;var e=kn(),t=uo();return zo=function(n,r,o,i){try{return i?r(e(o)[0],o[1]):r(o)}catch(e){t(n,"throw",e)}}}function oi(){return Vo?Uo:(Vo=1,Uo=function(e,t){var n="function"==typeof Iterator&&Iterator.prototype[e];if(n)try{n.call({next:null},t).next()}catch(e){return!0}})}qo||(qo=1,function(){if(Ho)return Go;Ho=1;var e=ro(),t=xe(),n=Ot(),r=kn(),o=fo(),i=ni(),a=ri(),s=tn(),c=uo(),l=oi(),u=po(),d=!s&&!l("filter",function(){}),m=!s&&!d&&u("filter",TypeError),f=s||d||m,p=i(function(){for(var e,n,o=this.iterator,i=this.predicate,s=this.next;;){if(e=r(t(s,o)),this.done=!!e.done)return;if(n=e.value,a(o,i,[n,this.counter++],!0))return n}});e({target:"Iterator",proto:!0,real:!0,forced:f},{filter:function(e){r(this);try{n(e)}catch(e){c(this,"throw",e)}return m?t(m,this,e):new p(o(this),{predicate:e})}})}());var ii,ai,si={};function ci(e){return"function"==typeof e}function li(e){return null==e}function ui(e){return!li(e)&&"object"==typeof e&&!Array.isArray(e)}function di(e){return e.charAt(0).toUpperCase()+e.slice(1)}function mi(t,n,r){return e.createElement("div",{style:{padding:"0 20px"}},t)}function fi(e){return(e||window).document.documentElement.clientHeight}function pi(e){return-1!==["available","attached","streaming"].indexOf(e)}ai||(ai=1,function(){if(ii)return si;ii=1;var e=ro(),t=xe(),n=Ot(),r=kn(),o=fo(),i=ni(),a=ri(),s=uo(),c=oi(),l=po(),u=tn(),d=!u&&!c("map",function(){}),m=!u&&!d&&l("map",TypeError),f=u||d||m,p=i(function(){var e=this.iterator,n=r(t(this.next,e));if(!(this.done=!!n.done))return a(e,this.mapper,[n.value,this.counter++],!0)});e({target:"Iterator",proto:!0,real:!0,forced:f},{map:function(e){r(this);try{n(e)}catch(e){s(this,"throw",e)}return m?t(m,this,e):new p(o(this),{mapper:e})}})}());const hi={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},gi={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},bi={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},vi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},yi={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class wi{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map(e=>parseInt(e,10)||0);if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map(e=>parseInt(e,10)||0);if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,n=!1){const r=wi.getVersionPrecision(e),o=wi.getVersionPrecision(t);let i=Math.max(r,o),a=0;const s=wi.map([e,t],e=>{const t=i-wi.getVersionPrecision(e),n=e+new Array(t+1).join(".0");return wi.map(n.split("."),e=>new Array(20-e.length).join("0")+e).reverse()});for(n&&(a=i-Math.min(r,o)),i-=1;i>=a;){if(s[0][i]>s[1][i])return 1;if(s[0][i]===s[1][i]){if(i===a)return 0;i-=1}else if(s[0][i]<s[1][i])return-1}}static map(e,t){const n=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}static find(e,t){let n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){const r=e[n];if(t(r,n))return r}}static assign(e,...t){const n=e;let r,o;if(Object.assign)return Object.assign(e,...t);for(r=0,o=t.length;r<o;r+=1){const e=t[r];if("object"==typeof e&&null!==e){Object.keys(e).forEach(t=>{n[t]=e[t]})}}return e}static getBrowserAlias(e){return hi[e]}static getBrowserTypeByAlias(e){return gi[e]||""}}const Ei=/version\/(\d+(\.?_?\d+)+)/i,Si=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=wi.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=wi.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/PaleMoon/i],describe(e){const t={name:"Pale Moon"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=wi.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=wi.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=wi.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=wi.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=wi.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=wi.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=wi.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=wi.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=wi.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=wi.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=wi.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=wi.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=wi.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=wi.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=wi.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=wi.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=wi.getFirstMatch(Ei,e)||wi.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=wi.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=wi.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=wi.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=wi.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=wi.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=wi.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=wi.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=wi.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=wi.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=wi.getFirstMatch(Ei,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:wi.getFirstMatch(t,e),version:wi.getSecondMatch(t,e)}}}];var xi=[{test:[/Roku\/DVP/],describe(e){const t=wi.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:vi.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=wi.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:vi.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=wi.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=wi.getWindowsVersionName(t);return{name:vi.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:vi.iOS},n=wi.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=wi.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=wi.getMacOSVersionName(t),r={name:vi.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=wi.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:vi.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=wi.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=wi.getAndroidVersionName(t),r={name:vi.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=wi.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:vi.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=wi.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||wi.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||wi.getFirstMatch(/\bbb(\d+)/i,e);return{name:vi.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=wi.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:vi.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=wi.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:vi.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:vi.Linux})},{test:[/CrOS/],describe:()=>({name:vi.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=wi.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:vi.PlayStation4,version:t}}}],ki=[{test:[/googlebot/i],describe:()=>({type:bi.bot,vendor:"Google"})},{test:[/huawei/i],describe(e){const t=wi.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:bi.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:bi.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:bi.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:bi.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:bi.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:bi.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:bi.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=wi.getFirstMatch(/(ipod|iphone)/i,e);return{type:bi.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:bi.mobile,vendor:"Nexus"})},{test:[/Nokia/i],describe(e){const t=wi.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,e),n={type:bi.mobile,vendor:"Nokia"};return t&&(n.model=t),n}},{test:[/[^-]mobi/i],describe:()=>({type:bi.mobile})},{test:e=>"blackberry"===e.getBrowserName(!0),describe:()=>({type:bi.mobile,vendor:"BlackBerry"})},{test:e=>"bada"===e.getBrowserName(!0),describe:()=>({type:bi.mobile})},{test:e=>"windows phone"===e.getBrowserName(),describe:()=>({type:bi.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:()=>({type:bi.tablet})},{test:e=>"android"===e.getOSName(!0),describe:()=>({type:bi.mobile})},{test:e=>"macos"===e.getOSName(!0),describe:()=>({type:bi.desktop,vendor:"Apple"})},{test:e=>"windows"===e.getOSName(!0),describe:()=>({type:bi.desktop})},{test:e=>"linux"===e.getOSName(!0),describe:()=>({type:bi.desktop})},{test:e=>"playstation 4"===e.getOSName(!0),describe:()=>({type:bi.tv})},{test:e=>"roku"===e.getOSName(!0),describe:()=>({type:bi.tv})}],Mi=[{test:e=>"microsoft edge"===e.getBrowserName(!0),describe(e){if(/\sedg\//i.test(e))return{name:yi.Blink};const t=wi.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:yi.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:yi.Trident},n=wi.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:yi.Presto},n=wi.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:yi.Gecko},n=wi.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:yi.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:yi.WebKit},n=wi.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class Ci{constructor(e,t=!1){if(null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=wi.find(Si,e=>{if("function"==typeof e.test)return e.test(this);if(Array.isArray(e.test))return e.test.some(e=>this.test(e));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=wi.find(xi,e=>{if("function"==typeof e.test)return e.test(this);if(Array.isArray(e.test))return e.test.some(e=>this.test(e));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=wi.find(ki,e=>{if("function"==typeof e.test)return e.test(this);if(Array.isArray(e.test))return e.test.some(e=>this.test(e));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=wi.find(Mi,e=>{if("function"==typeof e.test)return e.test(this);if(Array.isArray(e.test))return e.test.some(e=>this.test(e));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return wi.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const r={};let o=0;if(Object.keys(e).forEach(i=>{const a=e[i];"string"==typeof a?(r[i]=a,o+=1):"object"==typeof a&&(t[i]=a,n+=1)}),n>0){const e=Object.keys(t),n=wi.find(e,e=>this.isOS(e));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}const r=wi.find(e,e=>this.isPlatform(e));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}}if(o>0){const e=Object.keys(r),t=wi.find(e,e=>this.isBrowser(e,!0));if(void 0!==t)return this.compareVersion(r[t])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const o=wi.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n}compareVersion(e){let t=[0],n=e,r=!1;const o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(wi.compareVersions(o,n,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(e=>this.is(e))}}
/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */const Oi=class{static getParser(e,t=!1){if("string"!=typeof e)throw new Error("UserAgent should be a string");return new Ci(e,t)}static parse(e){return new Ci(e).getResult()}static get BROWSER_MAP(){return gi}static get ENGINE_MAP(){return yi}static get OS_MAP(){return vi}static get PLATFORMS_MAP(){return bi}}.getParser(window.navigator.userAgent),Ri="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,Ti=Oi.getOSName(!0);let Ii=window.navigator.userAgent.match("; KF");function Ai(){return function(){if("tablet"===Oi.getPlatformType(!0)||Fi())return!0;return!1}()||"mobile"===Oi.getPlatformType(!0)}function Di(){return Ai()&&navigator.userAgent.includes("Android")}function Fi(){return!!Oi.satisfies({macos:{safari:">=13"}})&&Ri}function Bi(){return Oi}function _i(){return Oi.isBrowser("safari",!0)}function Ni(){return"macos"===Ti}function Pi(){return"ios"===Ti}function Li(e){window.navigator.userAgentData?.getHighEntropyValues&&window.navigator.userAgentData.getHighEntropyValues(["model"]).then(t=>{e.info(`Connection starting with device model: ${t.model}, platform: ${t.platform}`),Ii=!!t.model.startsWith("KF")})}const $i="auto-hide",ji="Auto-hide toolbar",zi="Automatically hide the toolbar and display it only moving the mouse to the top border.",Wi="auto-hide-fullscreen",Ui="Auto-hide toolbar only in full screen",Vi="Fix the bar on the top only in windowed mode.",Hi="Always display the toolbar",qi="Fix the bar on the top.",Gi="Light mode",Ki="Dark mode",Qi="System default",Yi={label:"Best responsiveness",description:"Provide most fluid experience.",minQuality:20,maxQuality:90},Zi={label:"Best quality",description:"Provide best image quality.",minQuality:70,maxQuality:90},Ji="adaptive",Xi="current",ea=[{width:1920,height:1080},{width:1440,height:900},{width:1024,height:768},{width:800,height:600}],ta=()=>[...Ai()&&!Ii?[{width:2560,height:1440},{width:2048,height:1080}]:[],{width:1920,height:1080},{width:1440,height:900},{width:1024,height:768},{width:800,height:600}],na=()=>[...Ai()&&!Ii?[{width:1215,height:2160},{width:1080,height:2048}]:[],{width:1080,height:1920},{width:900,height:1440},{width:768,height:1024},{width:600,height:800}];let ra;function oa(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)")&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener&&window.matchMedia("(prefers-color-scheme: dark)").removeEventListener}function ia(){return ra}oa()&&(ra=window.matchMedia("(prefers-color-scheme: dark)"));const aa=(e,t)=>{N(e.matches?P.Dark:P.Light,t)},sa=(e,t)=>{switch(e){case Qi:ra&&aa(ra,t);break;case Gi:N(P.Light,t);break;case Ki:N(P.Dark,t)}},ca=ae("Settings");let la=null;try{la=window.localStorage}catch(e){ca.warn(`Settings persistence disabled. Error accessing local storage: ${e.message}`)}const ua={sessionId:"",authToken:"",extensionData:"",promptReconnect:!0,logLevel:"info",wss:!0,enabledChannels:[],customChannels:[],displayCodecs:[],enableQU:!0,minQuality:30,maxQuality:0,maxDisplayWidth:0,maxDisplayHeight:0,minDisplayWidth:640,minDisplayHeight:480,debugLayer:!1,enableGraphicsDebugLayer:!1,clientHiDpiScaling:!0,enableHighPixelDensity:!1,enableWebCodecs:!0,losslessColorspace:"rgb",dynamicResolution:!0,enableShortcutEditor:!1,scaleToFit:Boolean(Ai()),volume:100,microphone:!1,webcam:!1,macOptionToAlt:!0,macCommandToControl:!1,appearanceMode:oa()?Qi:Gi,toolbarBehavior:Ui,displayQuality:Yi.label,metricsEnabled:!1,selectedResolution:Ji,selectedWebcamId:null,highColorAccuracy:!1,forceKeyboardCombinations:!1,timezoneRedirectionEnabled:!1};function da(){la?.setItem("dcv-settings",JSON.stringify(ua))}function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ma.apply(null,arguments)}var fa=({styles:t={},...n})=>e.createElement("svg",ma({xmlns:"http://www.w3.org/2000/svg",width:"39",height:"70",viewBox:"0 0 39 69"},n),e.createElement("path",{d:"M20.3 0v28.441H0C0 19.688.871 12.38 7.047 5.793 10.664 2.512 15.324 0 20.3 0zm0 0M1.602 29.496H39c.031 3.8.066 7.606.102 11.524.02 1.78.02 1.78.043 3.601l.011 2.879.024 1.469c.004 5.89-1.73 10.855-5.875 15.16-4.442 3.988-8.883 5.082-14.785 5.012-5.645-.403-9.41-2.934-13.176-6.989-3.485-4.297-3.903-8.804-3.844-14.14v-1.43c.008-1.746.023-3.488.035-5.234.024-3.91.043-7.82.067-11.852zm2.671 2.633c-.043 3.27-.085 6.539-.132 9.91-.02 1.02-.04 2.04-.059 3.09-.074 6.684.492 12.016 5.379 17.05 3.402 2.852 7.371 4.368 11.828 4.301 4.969-.496 8.555-3.59 11.871-7.011 3.754-5.567 3.43-11.274 3.3-17.696-.042-3.18-.085-6.363-.132-9.644H4.273zm0 0M21.371 5.266c5.68.625 10.29 2.14 14.211 6.394C39.437 16.723 39 20.762 39 27.39H21.371V5.267zm2.672 3.16v16.328h12.285c0-4.79-.66-7.832-3.738-11.586-2.824-2.57-4.742-3.668-8.547-4.742zm0 0"}));function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa.apply(null,arguments)}var ha=({styles:t={},...n})=>e.createElement("svg",pa({xmlns:"http://www.w3.org/2000/svg",width:"39",height:"70",viewBox:"0 0 39 69"},n),e.createElement("path",{d:"M18.7 0c6.597.813 11.296 3.305 15.491 8.426C38.578 14.703 39 20.914 39 28.44H18.7V0zm0 0M0 29.496h37.398c.032 3.89.067 7.777.098 11.785l.047 3.688.012 2.941.023 1.504c.004 6.121-1.738 10.356-5.941 14.797-3.617 3.445-7.672 4.871-12.672 5.05-5.242-.183-9.813-1.945-13.621-5.527-3.43-3.773-5.418-7.879-5.407-13.011 0-.48.004-.961.004-1.457 0-.496.004-.996.008-1.508v-1.406c.004-1.723.012-3.446.016-5.168L0 29.496zm2.672 2.633c-.035 3.293-.067 6.586-.102 9.976-.015 1.028-.027 2.06-.043 3.118l-.011 2.492c-.008.418-.016.84-.028 1.27 0 5.027 1.614 8.91 4.992 12.64 3.106 3.063 6.875 4.824 11.286 4.973 4.761-.227 9.214-2.45 12.527-5.828 2.953-3.77 3.68-7.997 3.59-12.645 0-.406-.004-.816-.004-1.238-.008-1.508-.031-3.012-.05-4.52-.036-3.379-.067-6.758-.102-10.238H2.672zm0 0M17.629 5.266V27.39H0c0-11.95 0-11.95 4.777-16.95C8.57 7.133 12.562 5.266 17.63 5.266zM6.164 12.793c-3.21 3.523-3.492 7.324-3.492 11.96h12.285V8.427c-3.363 0-6.36 2.21-8.793 4.367zm0 0"}));let ga,ba,va={},ya=[];function wa(e){ba.queryFeature(e).then(t=>{ci(va[e])&&va[e](t)}).catch(t=>{ga.info(`Query for ${e} denied with message: ${t.message}`)})}function Ea(e){e.length>0&&function(e){e.forEach(e=>{-1!==Object.keys(va).indexOf(e)?wa(e):(ya.push(e),ga&&ga.info(`No callback for feature ${e} adding to pending.`))})}(e)}function Sa(e,t){e&&ci(t)?(va[e]=t,ga.info(`Added feature listener for: ${e}`),ga.debug(`Callbacks ${Object.keys(va)}`),ga.debug(`Pending updates ${ya}`),-1!==ya.indexOf(e)&&(wa(e),ya.splice(ya.indexOf(e),1))):ga.warn("Wrong parameters for addFeatureListener")}const xa=Ni()||Pi()?"â":"CTRL",ka=Ai()?"":`[${xa}+C]`,Ma=Ai()?"":`[${xa}+V]`,Ca=`Press ${ka} to copy content from remote clipboard.`,Oa=`Press ${Ma} to paste content to remote clipboard.`,Ra="Clipboard synced",Ta="success",Ia=ae("Clipboard");let Aa="",Da="",Fa=!1;function Ba({connection:t,copyEnabled:r,pasteEnabled:o,currentWindow:i}){const[a,s]=e.useState(!1),[c,g]=e.useState(""),[b,v]=e.useState({}),[y,w]=e.useState({}),E=()=>{s(!1),t.captureClipboardEvents(!1,i)},S=(e,t)=>{a?(v({status:e,message:t}),i.document.getElementById("modal-popover-trigger").click()):(w({status:e,message:t}),i.document.getElementById("icon-popover-trigger").click())},x=()=>{Fa||(S(Ta,Ra),("string"==typeof Aa||Aa instanceof String)&&g(Aa))},k=()=>{Fa||(S(Ta,Ra),("string"==typeof Da||Da instanceof String)&&g(Da))},M=()=>{S("error","The clipboard data is too large to be transferred"),Fa=!0},C=e=>{switch(Ia.info(`Received clipboard event ${e.name}`),e.name){case"established":break;case"copy":case"autoCopyDone":x();break;case"paste":case"autoPasteDone":k();break;case"dataSizeAlert":M();break;case"remoteError":"dataSizeAlert"===e.error&&M();break;case"newDataAvailable":e.autoCopy||S("info","Use the clipboard to copy data locally or remotely."),Aa=e.clipboardData["text/plain"],Fa=!1;break;case"pasteAvailableData":Da=e.clipboardData,Fa=!1;break;default:Ia.info("Unknown clipboard event.")}};return n(()=>(yo.on("clipboard",C),()=>{yo.off("clipboard",C)}),[i,a]),e.createElement("div",null,e.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"start"}},e.createElement("div",{style:{height:0}},e.createElement(l,{dismissButton:!1,position:"bottom",size:"large",triggerType:"custom",content:e.createElement(u,{type:y.status},y.message)},e.createElement("div",{id:"icon-popover-trigger"}))),e.createElement("div",{title:"Clipboard"},e.createElement(d,{iconName:"copy",variant:"icon",onClick:()=>{s(!0),g(""),t.captureClipboardEvents(!0,i)}}))),e.createElement(m,{onDismiss:E,visible:a,size:"large",header:"Copy and paste",footer:e.createElement(f,{float:"right"},e.createElement(d,{variant:"primary",onClick:E},"Done")),modalRoot:i.document.body},e.createElement(p,{size:"xl"},Ai()?e.createElement(p,{size:"m",direction:"horizontal"},r&&e.createElement(d,{onClick:()=>t.syncClipboards()},Ca),o&&e.createElement(d,{onClick:async()=>{const e=await navigator.clipboard.readText().catch(()=>{Ia.warn("There was an error trying to gather clipboard text")}),t=new ClipboardEvent("paste",{dataType:"text/plain",clipboardData:new DataTransfer});e&&(t.clipboardData.items.add(e,"text/plain"),i.document.dispatchEvent(t))}},Oa)):e.createElement(f,null,r&&e.createElement(f,{variant:"p"},Ca),o&&e.createElement(f,{variant:"p"},Oa)),e.createElement(f,{variant:"p",margin:{bottom:"xs"}},"Content preview")),e.createElement("div",{style:{margin:"auto",width:"1px",height:0}},e.createElement(l,{dismissButton:!1,position:"top",size:"large",triggerType:"custom",content:e.createElement(u,{type:b.status},b.message)},e.createElement("div",{id:"modal-popover-trigger",style:{marginTop:"19.5px"}}))),e.createElement(h,{controlId:"textarea",value:(O=c,O.substring(0,5e3).replace(/\0/g,"").concat(O.length>5e3?" ...":"")),readOnly:!0,rows:10})));var O}Ba.propTypes={connection:s.object,copyEnabled:s.bool,pasteEnabled:s.bool,currentWindow:s.object};var _a,Na,Pa,La,$a,ja,za,Wa,Ua,Va,Ha,qa,Ga,Ka,Qa,Ya,Za,Ja,Xa,es,ts,ns,rs=t(Ba),os={};function is(){if(Na)return _a;Na=1;var e=gr(),t=fr(),n=RangeError;return _a=function(r,o,i,a){var s=e(r),c=t(i),l=c<0?s+c:c;if(l>=s||l<0)throw new n("Incorrect index");for(var u=new o(s),d=0;d<s;d++)u[d]=d===l?a:r[d];return u}}function as(){if(ja)return $a;ja=1;var e=Gn(),t=Mn();return $a=function(n,r,o){return o.get&&e(o.get,r,{getter:!0}),o.set&&e(o.set,r,{setter:!0}),t.f(n,r,o)}}function ss(){if(Va)return Ua;Va=1;var e=yt();return Ua=function(t){return e(t)||null===t}}function cs(){if(qa)return Ha;qa=1;var e=ss(),t=String,n=TypeError;return Ha=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")}}function ls(){if(Ka)return Ga;Ka=1;var e=function(){if(Wa)return za;Wa=1;var e=ft(),t=Ot();return za=function(n,r,o){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[o]))}catch(e){}}}(),t=yt(),n=gt(),r=cs();return Ga=Object.setPrototypeOf||("__proto__"in{}?function(){var o,i=!1,a={};try{(o=e(Object.prototype,"__proto__","set"))(a,[]),i=a instanceof Array}catch(e){}return function(e,a){return n(e),r(a),t(e)?(i?o(e,a):e.__proto__=a,e):e}}():void 0)}function us(){if(Ya)return Qa;Ya=1;var e,t,n,r=La?Pa:(La=1,Pa="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView),o=Ee(),i=ue(),a=vt(),s=yt(),c=sn(),l=so(),u=Ct(),d=Cn(),m=Kn(),f=as(),p=Et(),h=Xo(),g=ls(),b=ln(),v=cn(),y=qn(),w=y.enforce,E=y.get,S=i.Int8Array,x=S&&S.prototype,k=i.Uint8ClampedArray,M=k&&k.prototype,C=S&&h(S),O=x&&h(x),R=Object.prototype,T=i.TypeError,I=b("toStringTag"),A=v("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",F=r&&!!g&&"Opera"!==l(i.opera),B=!1,_={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},P=function(e){var t=h(e);if(s(t)){var n=E(t);return n&&c(n,D)?n[D]:P(t)}},L=function(e){if(!s(e))return!1;var t=l(e);return c(_,t)||c(N,t)};for(e in _)(n=(t=i[e])&&t.prototype)?w(n)[D]=t:F=!1;for(e in N)(n=(t=i[e])&&t.prototype)&&(w(n)[D]=t);if((!F||!a(C)||C===Function.prototype)&&(C=function(){throw new T("Incorrect invocation")},F))for(e in _)i[e]&&g(i[e],C);if((!F||!O||O===R)&&(O=C.prototype,F))for(e in _)i[e]&&g(i[e].prototype,O);if(F&&h(M)!==O&&g(M,O),o&&!c(O,I))for(e in B=!0,f(O,I,{configurable:!0,get:function(){return s(this)?this[A]:void 0}}),_)i[e]&&d(i[e],A,e);return Qa={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:B&&A,aTypedArray:function(e){if(L(e))return e;throw new T("Target is not a typed array")},aTypedArrayConstructor:function(e){if(a(e)&&(!g||p(C,e)))return e;throw new T(u(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(o){if(n)for(var a in _){var s=i[a];if(s&&c(s.prototype,e))try{delete s.prototype[e]}catch(n){try{s.prototype[e]=t}catch(e){}}}O[e]&&!n||m(O,e,n?t:F&&x[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,a;if(o){if(g){if(n)for(r in _)if((a=i[r])&&c(a,e))try{delete a[e]}catch(e){}if(C[e]&&!n)return;try{return m(C,e,n?t:F&&C[e]||t)}catch(e){}}for(r in _)!(a=i[r])||a[e]&&!n||m(a,e,t)}},getTypedArrayConstructor:P,isView:function(e){if(!s(e))return!1;var t=l(e);return"DataView"===t||c(_,t)||c(N,t)},isTypedArray:L,TypedArray:C,TypedArrayPrototype:O}}function ds(){if(Ja)return Za;Ja=1;var e=so();return Za=function(t){var n=e(t);return"BigInt64Array"===n||"BigUint64Array"===n}}function ms(){if(es)return Xa;es=1;var e=un(),t=TypeError;return Xa=function(n){var r=e(n,"number");if("number"==typeof r)throw new t("Can't convert number to bigint");return BigInt(r)}}ns||(ns=1,function(){if(ts)return os;ts=1;var e=is(),t=us(),n=ds(),r=fr(),o=ms(),i=t.aTypedArray,a=t.getTypedArrayConstructor,s=t.exportTypedArrayMethod,c=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}(),l=c&&function(){try{new Int8Array(1).with(-.5,1)}catch(e){return!0}}();s("with",{with:function(t,s){var c=i(this),l=r(t),u=n(c)?o(s):+s;return e(c,a(c),l,u)}}.with,!c||l)}());var fs,ps,hs,gs,bs,vs,ys,ws,Es,Ss,xs,ks,Ms,Cs={};function Os(){if(ps)return fs;ps=1;var e=Et(),t=TypeError;return fs=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation")}}function Rs(){if(gs)return hs;gs=1;var e=vt(),t=yt(),n=ls();return hs=function(r,o,i){var a,s;return n&&e(a=o.constructor)&&a!==i&&t(s=a.prototype)&&s!==i.prototype&&n(r,s),r}}function Ts(){if(vs)return bs;vs=1;var e=so(),t=String;return bs=function(n){if("Symbol"===e(n))throw new TypeError("Cannot convert a Symbol value to a string");return t(n)}}function Is(){if(ws)return ys;ws=1;var e=Ts();return ys=function(t,n){return void 0===t?arguments.length<2?"":n:e(t)},ys}function As(){if(ks)return xs;ks=1;var e=ft(),t=Error,n=e("".replace),r=String(new t("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,i=o.test(r);return xs=function(e,r){if(i&&"string"==typeof e&&!t.prepareStackTrace)for(;r--;)e=n(e,o,"");return e}}!function(){if(Ms)return Cs;Ms=1;var e=ro(),t=ue(),n=wt(),r=mt(),o=Mn().f,i=sn(),a=Os(),s=Rs(),c=Is(),l=Ss?Es:(Ss=1,Es={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}),u=As(),d=Ee(),m=tn(),f="DOMException",p=n("Error"),h=n(f),g=function(){a(this,b);var e=arguments.length,t=c(e<1?void 0:arguments[0]),n=c(e<2?void 0:arguments[1],"Error"),i=new h(t,n),l=new p(t);return l.name=f,o(i,"stack",r(1,u(l.stack,1))),s(i,this,g),i},b=g.prototype=h.prototype,v="stack"in new p(f),y="stack"in new h(1,2),w=h&&d&&Object.getOwnPropertyDescriptor(t,f),E=!(!w||w.writable&&w.configurable),S=v&&!E&&!y;e({global:!0,constructor:!0,forced:m||S},{DOMException:S?g:h});var x=n(f),k=x.prototype;if(k.constructor!==x)for(var M in m||o(k,"constructor",r(1,x)),l)if(i(l,M)){var C=l[M],O=C.s;i(x,O)||o(x,O,r(6,C.c))}}();const Ds=`OS: ${Fi()?`iOS ${Bi().getBrowserVersion()}(Desktop Mode on iOS Safari detected, estimating version from Safari)`:`${Bi().getOSName()} ${Bi().getOSVersion()}`}\nBrowser version: ${Bi().getBrowserName()} ${Bi().getBrowserVersion()} with ${Bi().getEngineName()} engine\nPlatform: ${Fi()?" Tablet (Desktop Mode on iOS Safari detected)":Bi().getPlatformType()}\nWeb SDK version: ${c.version.versionStr}`,Fs=ae("About");function Bs(t){const[r,o]=e.useState(""),[i,a]=e.useState("");return n(()=>{null!==t.connection&&(o(_s(t.connection.getServerInfo())),fetch("third-party-licenses.txt").then(e=>{const t=`Status code: ${e.status}, Status Text: ${e.statusText}`;if(Fs.debug(`Received response. ${t}`),[...e.headers.entries()].forEach(e=>Fs.debug(`Header: ${e[0]} with value: ${e[1]}`)),!e.ok)throw new Error(t);return e.text()}).then(e=>a(e)).catch(e=>Fs.warn(`Failed to fetch resource. Error: ${e}`)))},[t.connection]),e.createElement(m,{onDismiss:t.onDismiss,visible:t.visible,size:"large",header:"About Amazon DCV",modalRoot:window.document.body,disableContentPaddings:!0,footer:e.createElement(g,{gridDefinition:[{colspan:7},{colspan:5}]},e.createElement(f,null,"Copyright Â© 2017-2024, NICE s.r.l. or its affiliates. All rights reserved."),e.createElement(f,{float:"right"},e.createElement(b,{external:!0,externalIconAriaLabel:"Opens in a new tab",href:"EULA.txt"},"End User License Agreement")))},e.createElement(v,{tabs:[{label:"Client",id:"about-client",content:mi(e.createElement(h,{rows:10,readOnly:!0,value:Ds}))},{label:"Server",id:"about-server",content:mi(e.createElement(h,{rows:10,readOnly:!0,value:r}))},{label:"Third party notices",id:"third-party-notices",content:mi(e.createElement(h,{rows:10,readOnly:!0,value:i}))}]}))}function _s(e,t){let n="";return Object.keys(e).forEach(r=>{"version"===r?n+=`${di(r)}: ${e[r].major}.${e[r].minor}.${e[r].revision}\n`:ui(e[r])?n+=_s(e[r],di(r)):n+=t?`${t}-${r}: ${e[r]}\n`:`${di(r)}: ${e[r]}\n`}),n}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ns.apply(null,arguments)}Bs.propTypes={connection:s.object,visible:s.bool,onDismiss:s.func};var Ps=({styles:t={},...n})=>e.createElement("svg",Ns({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M15 6h-5V1M1 6h5V1M1 10h5v5M15 10h-5v5M1 1l5 5M15 1l-5 5M6 10l-5 5M10 10l5 5"}));const Ls=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],$s=ae("Fullscreen");function js(e){return Boolean(e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement)}function zs({setFullscreen:t,currentDocument:r}){const[o,i]=e.useState(!1),a=()=>{const e=js(r);i(e),t(e)},s=()=>r.fullscreenEnabled||r.webkitFullscreenEnabled||r.mozFullScreenEnabled||r.msFullscreenEnabled;return n(()=>(s()&&Ls.forEach(e=>r.addEventListener(e,a)),()=>{s()&&Ls.forEach(e=>r.removeEventListener(e,a))}),[r,t]),e.createElement("div",{title:"Full Screen"},e.createElement(d,G({},o?{iconSvg:e.createElement(Ps,null)}:{iconName:"expand"},{variant:"icon",onClick:()=>{js(r)?(r.exitFullscreen&&r.exitFullscreen(),navigator?.keyboard?.unlock()):(()=>{const e=r.documentElement;e.requestFullscreen&&e.requestFullscreen(),navigator.permissions.query({name:"keyboard-lock"}).then(e=>{"denied"!==e?.state?($s.info("granted"===e?.state?"Keyboard lock enabled":"Requesting permission to lock keyboard"),navigator?.keyboard?.lock().catch(()=>{})):$s.info("Keyboard lock permission denied")}).catch(()=>{$s.debug("Keyboard-lock permission not supported by browser, defaulting to normal behaviour"),navigator?.keyboard?.lock()})})()}})))}zs.propTypes={setFullscreen:s.func,currentDocument:s.object};var Ws=t(zs);const Us=ae("Display Layout");let Vs,Hs,qs,Gs={},Ks={},Qs=null,Ys=0,Zs=0;const Js=(e,t,n)=>{const r=ic(e),o=oc(e),i=r>o?ta()[0]:na()[0],a=Math.max(ua.minDisplayWidth/r,ua.minDisplayHeight/o,1),s=Math.min(i.width/r,i.height/o);let c=r>o?n/o:t/r;return c<a?c=a:c>s&&(c=s),[Math.round(c*r),Math.round(c*o)]};function Xs(){return Hs}function ec(e){return ua.dynamicResolution&&Xs()&&ua.selectedResolution===Ji&&(e||Vs&&Vs.length>1)}function tc(e,t,n){let r,o;if(Vs&&Vs.length>0)1===Vs.length||n?(r=Vs[0].rect.width,o=Vs[0].rect.height):Vs.length>1&&!n&&(r=Vs[1].rect.width,o=Vs[1].rect.height);else{const e=t.document.getElementById("dcv-display");e?(r=e.getBoundingClientRect().width,o=e.getBoundingClientRect().height):(r=t.innerWidth,o=t.innerHeight)}ec(n)?(Gs[n]&&(clearTimeout(Gs[n]),Gs[n]=null),Gs[n]=setTimeout(()=>{!function(e,t,n){let r=ic(t),o=oc(t);if(r=Math.min(r,ua.maxDisplayWidth||r),r=Math.max(r,ua.minDisplayWidth||r),o=Math.min(o,ua.maxDisplayHeight||o),o=Math.max(o,ua.minDisplayHeight||o),Ai()){const e=Js(t,r,o);r=e[0],o=e[1]}const i=()=>{const e=e=>Math.abs(Ks[n].width-r)>e||Math.abs(Ks[n].height-o)>e;return!js(t.document)&&!t.fullScreen||function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(Ks[n])||e(2)};i()?(Ks[n]={width:r,height:o},dc(e,r,o,n),Ni()&&_i()&&ac(t.document.getElementById("dcv-display-frame"),"hidden")):ac(t.document.getElementById("dcv-display-frame"),"hidden")}(e,t,n),Gs[n]=null},500)):(Ai()&&(Gs[n]&&(clearTimeout(Gs[n]),Gs[n]=null),Gs[n]=setTimeout(()=>{const i=Js(t,r,o);dc(e,i[0],i[1],n),Gs[n]=null},300)),lc(r,o,t,n))}function nc(e,t){return`${e}x${t}`}function rc(e){return e.split("x")}function oc(e,t=!1){let n=0,r=e.document.getElementById("dcv-container"),o=e.document.getElementById("dcv-toolbar-container"),i=e.document.getElementById("dcv-display-frame");return r&&i?(n=t&&o?o.getBoundingClientRect().height:i.getBoundingClientRect().top-r.getBoundingClientRect().top,r.getBoundingClientRect().height-n):fi(e)}function ic(e){const t=e.document.getElementById("dcv-container");return t?t.getBoundingClientRect().width:e.innerWidth}function ac(e,t){e&&(e.style.overflow=t)}function sc(e){const t=e.document.getElementById("dcv-display"),n=e.document.getElementById("dcv-display-frame");t&&n&&((()=>{const r=oc(e),o=t.getBoundingClientRect().height,i=o?`${Math.max(0,(r-o)/2).toString()}px`:0;t.style.marginTop=i,n.style.height=`${r.toString()}px`})(),(()=>{const r=ic(e),o=t.getBoundingClientRect().width,i=o?`${Math.max(0,(r-o)/2).toString()}px`:0;t.style.marginLeft=i,n.style.width=`${r.toString()}px`})())}function cc(e){const t=Ai()?function(){const e=ic(window),t=oc(window),n=[],r=e>t?ta():na(),o=r[0],i=Js(window,0,0),a=Js(window,o.width,o.height),s=i[0]/e,c=a[0]/e;return Qs&&Ys===e&&Zs===t||(n.push({width:i[0],height:i[1]}),r.forEach(r=>{const o=r.height/t,i=r.width/e;o>s&&o<c&&-1===n.findIndex(t=>t.width===Math.round(o*e))&&n.push({width:Math.round(o*e),height:Math.round(o*t)}),i>s&&i<c&&-1===n.findIndex(t=>t.width===Math.round(i*e))&&n.push({width:Math.round(i*e),height:Math.round(i*t)})}),-1===n.findIndex(e=>e.width===a[0])&&n.push({width:a[0],height:a[1]}),Ys=e,Zs=t,Qs=n.sort((e,t)=>t.width-e.width)),Qs}():ea;return t.filter(t=>{let n=!0;if(ua.minDisplayWidth&&(n=t.width>=ua.minDisplayWidth),n&&ua.maxDisplayWidth&&(n=t.width<=ua.maxDisplayWidth),n&&ua.minDisplayHeight&&(n=t.height>=ua.minDisplayHeight),n&&ua.maxDisplayWidth&&(n=t.height<=ua.maxDisplayHeight),n){const r=rc(e);t.width.toString()===r[0]&&t.height.toString()===r[1]&&(n=!1)}return n}).map(e=>({value:nc(e.width,e.height),label:nc(e.width,e.height)}))}function lc(e,t,n,r){let o=1,i=1,a=1;const s=ic(n),c=oc(n);if(sc(n),ac(n.document.getElementById("dcv-display-frame"),ua.scaleToFit?"hidden":"auto"),ec(r)||(Ks[r]={}),ua.scaleToFit){if(i=s/e,a=c/t,o=Math.max(0,Math.floor(100*Math.min(1,i,a))/100),!o)return;Us.info(`Requesting a display scaling factor of ${o}`),!function(e,t){const n=`scale(${e})`,r=t.getElementById("dcv-display"),o=t.getElementById("dcv-container");qs||(qs=function(){const e=window.CSS&&window.CSS.supports||window.supportsCSS;if(e&&e("( transform: scale(1) )"))return"transform";if(e&&e("( zoom: 0.8 )"))return"zoom";return"no-scale"}());if("transform"===qs)return r.style.transform=n,r.style.transformOrigin="0 0",o.style.overflow="hidden",!0;if("zoom"===qs)return r.style.zoom=e,o.style.overflow="hidden",!0;return o.style.overflow="auto",!1}(o,n.document)?Us.info("CSS scaling or zoom unsupported!"):sc(n)}}function uc(e){Vs=e}function dc(e,t,n,r){let o,i,a=r?Vs[0].name:Vs[1].name,s=r?0:Vs[0].rect.width;return Vs&&Vs.length>1?(o={name:a,rect:{x:s,y:0,width:t,height:n},primary:r},i=r?[o,Vs[1]]:[Vs[0],o],uc(i),e.requestDisplayLayout(i)):e.requestResolution(t,n)}function mc(t){const[r,o]=e.useState(ua.macOptionToAlt),[i,a]=e.useState(ua.macCommandToControl),s=e=>{e?(ua.macOptionToAlt=r,ua.macCommandToControl=i,da(),t.connection.setKeyboardQuirks({macOptionToAlt:r,macCommandToControl:i,forceKeyboardCombinations:ua.forceKeyboardCombinations})):(o(ua.macOptionToAlt),a(ua.macCommandToControl))};return n(()=>(yo.on("close-preferences",s),()=>{yo.off("close-preferences",s)}),[r,i]),e.createElement(p,{size:"xxl"},e.createElement(f,null,e.createElement(f,{margin:{bottom:"s"}},"Option key setting"),e.createElement(y,{onChange:({detail:e})=>o(e.value),value:r,items:[{value:!0,label:"Use Option (â¥) as remote Alt key"},{value:!1,label:"Use Option (â¥) as local modifier"}]})),e.createElement(f,null,e.createElement(f,{margin:{bottom:"s"}},"Command key setting"),e.createElement(y,{onChange:({detail:e})=>a(e.value),value:i,items:[{value:!0,label:"Use Command (â) as remote Control key"},{value:!1,label:"Use Command (â) as remote Meta key"}]})))}mc.propTypes={connection:s.object};const fc={ERROR:{status:"error",color:"red",importance:3},WARNING:{status:"warning",color:"red",importance:2},SUCCESS:{status:"success",color:"green",importance:1},INFO:{status:"info",color:"blue",importance:1}};let pc=0,hc=[];function gc(e,t){let n,r=(e=>({id:pc++,level:li(e.level)?fc.INFO:e.level,header:li(e.header)?"":e.header,description:li(e.description)?null:e.description,progress:li(e.progress)?null:e.progress,uploadedBytes:li(e.progress)?null:e.uploadedBytes,totalBytes:li(e.progress)?null:e.totalBytes,uploadedFiles:li(e.progress)?null:e.uploadedFiles,totalFiles:li(e.progress)?null:e.totalFiles,actions:li(e.actions)?{}:e.actions,timestamp:Date.now()}))(e),o=-1;return li(t)||(o=hc.findIndex(e=>e.id===t)),-1===o?n=[r].concat(hc.map(e=>({...e}))):(n=hc.map(e=>({...e})),n[o]=r),hc=n,yo.emit("notifications-update",hc),r.id}function bc(e){const t=hc.map(e=>({...e})).filter(t=>t.id!==e);hc=t,yo.emit("notifications-update",hc)}function vc(e,t,n,r,o,i){if(!li(t)){const a=hc.findIndex(e=>e.id===t);if(-1!==a){const t=hc.map(e=>({...e}));t[a].progress=e,t[a].uploadedBytes=n,t[a].totalBytes=r,t[a].uploadedFiles=o,t[a].totalFiles=i,hc=t,yo.emit("notifications-update",hc)}}}const yc=ae("UI CameraSelect");let wc=null;function Ec(t){const[o,i]=e.useState(),[a,s]=e.useState([]),[c,l]=e.useState(),u=r(!0),m=e=>{gc({level:fc.ERROR,header:"Error getting devices.",description:e.message,actions:{dismissable:!0}},null)},h=e=>{const t=[];e.filter(e=>"videoinput"===e.kind).forEach((e,n)=>{t.push({label:e.label||`Camera ${n+1}`,value:e.deviceId})}),s(t)},g=()=>{t.connection.getConnectedDevices().then(h).catch(m)},b=()=>{navigator.permissions.query({name:"camera"}).then(e=>{wc&&(wc.onchange=null),wc=e,o||(e.onchange=b,g()),i(e.state),"granted"===e.state&&pi(t.webcamStatus)&&g()}).catch(e=>{e instanceof TypeError?yc.info(e.message):yc.warn(e.message)})},v=e=>{e?c&&(t.setWebcamId(c),ua.selectedWebcamId=c,da()):l(ua.selectedWebcamId)},y=()=>e.createElement(d,{iconAlign:"right",href:"https://docs.aws.amazon.com/dcv/latest/userguide/using-webcam.html",target:"_blank",iconName:"external"},"Read more");n(()=>{a.filter(e=>t.webcamId===e.value).length?l(t.webcamId):a.length&&(l(a[0].value),t.setWebcamId(a[0].value))},[t.webcamId,o,a]),n(()=>{t.webcamStatus&&(yc.info(`Webcam enabled. Status: ${t.webcamStatus}`),u.current&&(b(),u.current=!1))},[t.webcamStatus]),n(()=>(yo.on("close-preferences",v),yo.on("device-change",g),()=>{yo.off("close-preferences",v),yo.off("device-change",g)}),[t.connection,t.setWebcamId,c]);const[S,x,k,M]=(()=>{let n="",r=null,i="info",a=!0;if("busy"===t.webcamStatus)n="Camera not available. Another user is already sharing a camera within the session.",r=y(),i="warning";else switch(o){case"prompt":n="Camera not available. Grant camera permission to use it.",r=e.createElement(d,{onClick:()=>navigator.mediaDevices.getUserMedia({video:!0})},"Allow detection"),i="info";break;case"denied":n="Camera not available. Grant camera permission to use it.",r=y(),i="warning";break;case"granted":"streaming"===t.webcamStatus?(n="The selected camera cannot be changed while the streaming is active.",r=y(),i="warning"):(n="Camera available. Check the browser settings to change this site's camera permission.",r=y(),i="info",a=!1)}return[n,r,i,a]})();return e.createElement(p,{size:"l"},e.createElement(w,{action:x,type:k},S),e.createElement("div",null,e.createElement(f,null,"Camera"),e.createElement(f,{color:"text-body-secondary",fontSize:"body-s",margin:{bottom:"s"}},"Select which camera to activate."),e.createElement("div",{style:{width:"70%"}},e.createElement(E,{selectedOption:(e=>{const t=a.filter(t=>e===t.value);return t.length?t[0]:null})(c),onChange:({detail:e})=>l(e.selectedOption.value),options:a,selectedAriaLabel:"Selected",disabled:M}))))}Ec.propTypes={connection:s.object,webcamStatus:s.string,webcamId:s.string,setWebcamId:s.func};const Sc=ae("Preferences");function xc(t){const[r,o]=e.useState("general"),[i,a]=e.useState(ua.selectedResolution),[s,l]=e.useState(ua.metricsEnabled),[u,h]=e.useState(!1),[g,b]=e.useState(!1),[w,E]=e.useState(ua.enableHighPixelDensity),[k,M]=e.useState(ua.displayQuality),[C,O]=e.useState(ua.appearanceMode),[R,T]=e.useState(ua.toolbarBehavior),[I,A]=e.useState(260),[D,F]=e.useState(0),[B,_]=e.useState(ua.timezoneRedirectionEnabled),N=t.connection.getServerInfo().os.startsWith("Darwin"),P=t=>{gc({level:fc.WARNING,header:"Timezone Redirection config error.",description:e.createElement("div",null,"Failed to ",B?"enable":"disable",".",e.createElement("br",null),"Error: ",t.message," (code: ",t.code,")"),actions:{dismissable:!0}})},L=()=>{yo.emit("close-preferences",!1),a(ua.selectedResolution),E(ua.enableHighPixelDensity),M(ua.displayQuality),O(ua.appearanceMode),T(ua.toolbarBehavior),l(ua.metricsEnabled),b(ua.highColorAccuracy),_(ua.timezoneRedirectionEnabled),t.onDismiss()};return n(()=>{t.connection&&Sa("high-color-accuracy",e=>{h(e.available),b(e.enabled),A(e.available?350:300),e.available&&(ua.highColorAccuracy=e.enabled,da())})},[t.connection]),n(()=>{F(t.timezoneRedirectionSetting),t.connection&&t.timezoneRedirectionSetting===c.TimezoneRedirectionSetting.CLIENT_DECIDES&&t.connection.enableTimezoneRedirection(B).catch(P)},[t.connection,t.timezoneRedirectionSetting]),e.createElement(m,{onDismiss:L,visible:t.visible,size:"large",header:"Preferences",modalRoot:window.document.body,disableContentPaddings:!0,footer:e.createElement(f,{float:"right"},e.createElement(p,{direction:"horizontal",size:"xs"},e.createElement(d,{variant:"link",onClick:L},"Cancel"),e.createElement(d,{variant:"primary",onClick:()=>{yo.emit("close-preferences",!0),(()=>{let e;k!==ua.displayQuality&&(e=k===Yi.label?Yi:Zi,t.connection.setDisplayQuality(e.minQuality,e.maxQuality),Sc.info(`Switching to ${k} display mode`),ua.displayQuality=k)})(),C!==ua.appearanceMode&&(ua.appearanceMode=C,t.submitAppearanceModePreferences(C)),R!==ua.toolbarBehavior&&(ua.toolbarBehavior=R,t.submitToolbarBehaviorPreferences(R)),s!==ua.metricsEnabled&&(ua.metricsEnabled=s,t.submitMetricsPreferences(s)),(()=>{if(!u)return;const n=g?"enable":"disable";t.connection.requestDisplayConfig(g).catch(t=>{gc({level:fc.WARNING,header:"Display config error.",description:e.createElement("div",null,"Failed to ",n," high color accuracy.",e.createElement("br",null),"Error: ",t.message," (code: ",t.code,")"),actions:{dismissable:!0}})})})(),i!==ua.selectedResolution&&(ua.selectedResolution=i===Ji?Ji:Xi,t.submitResolutionPreferences(i),a(ua.selectedResolution)),Ni()&&w!==ua.enableHighPixelDensity&&(ua.enableHighPixelDensity=w,t.connection.enableHighPixelDensity(w)),B!==ua.timezoneRedirectionEnabled&&(ua.timezoneRedirectionEnabled=B,D===c.TimezoneRedirectionSetting.CLIENT_DECIDES&&t.connection.enableTimezoneRedirection(B).catch(P)),da(),t.onDismiss()}},"Save")))},e.createElement("div",{style:{height:I}},e.createElement(v,{activeTabId:r,onChange:({detail:e})=>o(e.activeTabId),tabs:[{label:"General",id:"general",content:mi(e.createElement(S,{columns:2},e.createElement("div",null,e.createElement(p,{size:"xxl"},e.createElement(f,null,e.createElement(f,{margin:{bottom:"s"}},"Appearance"),e.createElement(y,{onChange:({detail:e})=>O(e.value),value:C,items:[...oa()?[{value:Qi,label:Qi+(t.systemDefaultAppearanceMode?` (${di(t.systemDefaultAppearanceMode)})`:"")}]:[],{value:Gi,label:Gi},{value:Ki,label:Ki}]})),D===c.TimezoneRedirectionSetting.CLIENT_DECIDES?e.createElement(f,null,e.createElement(f,{margin:{bottom:"s"}},"Time Zone Redirection"),e.createElement(x,{onChange:({detail:e})=>_(e.checked),checked:B},B?"Enabled":"Disabled")):null)),e.createElement("div",null,e.createElement(f,{margin:{bottom:"s"}},"Toolbar behavior"),e.createElement(y,{onChange:({detail:e})=>T(e.value),value:R,items:[{value:ji,label:ji,description:zi},{value:Ui,label:Ui,description:Vi},{value:Hi,label:Hi,description:qi}]}))))},{label:"Display",id:"display",content:mi(e.createElement(S,{columns:2},e.createElement(p,{size:"xxl"},e.createElement(f,null,e.createElement(f,{margin:{bottom:"s"}},"Streaming mode"),e.createElement(y,{onChange:({detail:e})=>M(e.value),value:k,items:[{value:Yi.label,label:Yi.label,description:Yi.description},{value:Zi.label,label:Zi.label,description:Zi.description}]})),u&&e.createElement(f,null,e.createElement(f,{margin:{bottom:"s"}},"High color accuracy (YUV 4:4:4)"),e.createElement(x,{onChange:({detail:e})=>b(e.checked),checked:g,description:"Streaming performance could be affected."},g?"Enabled":"Disabled")),e.createElement(f,null,e.createElement(f,{margin:{bottom:"s"}},"Streaming metrics in the toolbar"),e.createElement(x,{onChange:({detail:e})=>l(e.checked),checked:s},s?"Enabled":"Disabled"))),e.createElement(p,{size:"xxl"},Ni()&&e.createElement(f,null,e.createElement(f,{margin:{bottom:"s"}},"High pixel density"),e.createElement(x,{onChange:({detail:e})=>E(e.checked),checked:w},w?"Enabled":"Disabled")),Xs()?e.createElement(f,null,e.createElement(f,{margin:{bottom:"s"}},"Display resolution"),e.createElement(y,{onChange:({detail:e})=>a(e.value),value:i,items:[{value:Ji,label:"Adapt automatically"},{value:Xi,label:`${t.currentResolution} (Current)`},...cc(t.currentResolution)]})):null)))},...Ni()&&!N?[{label:"Keyboard",id:"keyboard",content:mi(e.createElement(mc,{connection:t.connection}))}]:[],...t.webcamStatus&&"not-available"!==t.webcamStatus?[{label:"Camera",id:"camera",content:mi(e.createElement(Ec,{connection:t.connection,webcamStatus:t.webcamStatus,webcamId:t.webcamId,setWebcamId:t.setWebcamId}))}]:[]]})))}xc.propTypes={connection:s.object,visible:s.bool,onDismiss:s.func,submitResolutionPreferences:s.func,currentResolution:s.string,submitMetricsPreferences:s.func,submitAppearanceModePreferences:s.func,submitToolbarBehaviorPreferences:s.func,webcamStatus:s.string,webcamId:s.string,setWebcamId:s.func,systemDefaultAppearanceMode:s.oneOf([P.Light,P.Dark]),timezoneRedirectionSetting:s.number};const kc=ae("DropdownMenu");let Mc;function Cc({connection:t,relativeMouseModeEnabled:r,sasEnabled:o,focusDisplay:i,screenshotEnabled:a,currentResolution:s,submitResolutionPreferences:c,submitMetricsPreferences:l,submitAppearanceModePreferences:u,submitToolbarBehaviorPreferences:d,webcamStatus:m,webcamId:f,setWebcamId:p,systemDefaultAppearanceMode:h,timezoneRedirectionSetting:g}){const[b,v]=e.useState(""),[y,w]=e.useState(!1),[E,S]=e.useState(!1),[x,M]=e.useState(!1),[C,O]=e.useState(0),[R,T]=e.useState(!1),I=n=>{switch(n){case"relativeMouseMode":navigator.permissions.query({name:"pointer-lock"}).then(e=>{"denied"!==e?.state?(kc.info("granted"===e?.state?"Mouse lock enabled: enabling relative mouse":"Requesting permission to lock mouse, to enable relative mouse"),t.enterRelativeMouseMode()):(kc.info("Mouse lock permission denied, couldn't enable relative mouse"),gc({level:fc.WARNING,header:"Permissions to mouse lock was not granted.",description:"Enable mouse lock permissions and try again.",actions:{dismissable:!0}}))}).catch(()=>{kc.debug("Pointer-lock permission not supported by browser, defaulting to normal behaviour"),t.enterRelativeMouseMode()});break;case"trackpad-mode":t.setTrackpadMode(!E)&&(S(!E),yo.emit("trackpadMode",!E));break;case"SAS":!function(e){e.sendKeyboardShortcut([{key:"Control",location:KeyboardEvent.DOM_KEY_LOCATION_LEFT},{key:"Alt",location:KeyboardEvent.DOM_KEY_LOCATION_LEFT},{key:"Delete",location:KeyboardEvent.DOM_KEY_LOCATION_STANDARD}])}(t),T(!0);break;case"preferences":M(!0);break;case"screenshot":!function(t){const n=t=>{kc.error(`Failed to capture screenshot: ${t.message}`),gc({level:fc.ERROR,header:"Screenshot error",description:e.createElement("div",null,"Failed to capture screenshot.",e.createElement("br",null),"Error: ",t.message),actions:{dismissable:!0}})};Mc=setTimeout(()=>{kc.warn("No response to the screenshot request"),n({message:"Timeout"}),Mc=null},2e4),t.getScreenshot().catch(e=>{Mc&&clearTimeout(Mc),n(e)})}(t);break;case"aboutDCV":w(!0);break;case"disconnection":t.disconnect()}};return n(()=>{null!==t&&v(t.getServerInfo().hostname)},[t]),n(()=>(yo.on("screenshot",Rc),()=>{yo.off("screenshot",Rc)}),[]),n(()=>{O(g)},[g]),n(()=>{R&&(i(),T(!1))},[R]),e.createElement("div",{title:"More"},e.createElement(k,{onItemClick:({detail:e})=>I(e.id),items:[...r&&!Ai()?[{text:"Use relative mouse [Ctrl + Shift + F8]",id:"relativeMouseMode"}]:[],...Ai()?[{text:(E?"Disable":"Enable")+" trackpad mode",id:"trackpad-mode"}]:[],...o?[{text:"Send Ctrl + Alt + Del",id:"SAS"}]:[],...a?[{text:"Save Screenshot",id:"screenshot"}]:[],{text:"Preferences",id:"preferences"},{text:"About Amazon DCV",id:"aboutDCV"},{text:"Disconnect",id:"disconnection"}]},b),e.createElement(Bs,{connection:t,visible:y,onDismiss:()=>{w(!1)}}),e.createElement(xc,{connection:t,currentResolution:s,submitResolutionPreferences:c,visible:x,onDismiss:()=>{M(!1)},submitMetricsPreferences:l,submitAppearanceModePreferences:u,submitToolbarBehaviorPreferences:d,webcamStatus:m,webcamId:f,setWebcamId:p,systemDefaultAppearanceMode:h,timezoneRedirectionSetting:C}))}function Oc(e){return btoa(function(e){let t,n=32768,r=[];for(t=0;t<e.length;t+=n)r.push(String.fromCharCode.apply(null,e.subarray(t,t+n)));return r.join("")}(new Uint8Array(e)))}function Rc(e){Mc&&clearTimeout(Mc),null!==e?(kc.info("Retrieved screenshot"),gc({level:fc.INFO,header:"Screenshot captured.",description:"Screenshot ready to be downloaded.",actions:{accept:{text:"Download",callback:()=>function(e){const t=document.createElement("a");t.href=`data: image/png;base64,${Oc(e)}`,"download"in t&&(t.download="connection.png"),t.target="_blank",t.click()}(e),remove:!0},decline:{text:"Decline",remove:!0}}})):(kc.warn("Failed to capture screenshot"),gc({level:fc.ERROR,header:"Screenshot error.",description:"Failed to capture screenshot.",actions:{dismissable:!0}}))}Cc.propTypes={connection:s.object,relativeMouseModeEnabled:s.bool,sasEnabled:s.bool,focusDisplay:s.func,screenshotEnabled:s.bool,currentResolution:s.string,submitResolutionPreferences:s.func,submitMetricsPreferences:s.func,submitAppearanceModePreferences:s.func,submitToolbarBehaviorPreferences:s.func,webcamStatus:s.string,webcamId:s.string,setWebcamId:s.func,systemDefaultAppearanceMode:s.oneOf([P.Light,P.Dark]),timezoneRedirectionSetting:s.number};var Tc=t(Cc);function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ic.apply(null,arguments)}var Ac=({styles:t={},...n})=>e.createElement("svg",Ic({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("rect",{x:"4",y:"1",width:"4",height:"8",rx:"2"}),e.createElement("path",{d:"M1 6v1a5 5 0 008 4M6 12v3M1 15h10M15.12 5.75l-4.5 4.5M15.12 10.25l-4.5-4.5"}));const Dc=ae("Microphone");function Fc({connection:t}){const[i,a]=o(ua.microphone),s=r(!1),c=e=>{s.current=e,a(e),ua.microphone=e,da(),t.setMicrophone(e).catch(t=>{const n=`Failed to ${e?"enable":"disable"} microphone.`;Dc.warn(`${n} Disabling microphone. Error (code: ${t.code}): ${t.message}`),ua.microphone=e,da(),gc({level:fc.ERROR,header:"Microphone error.",description:n,actions:{dismissable:!0}})}).finally(()=>{s.current=!1,Dc.info("[Audio] Setting microphone to "+(ua.microphone?"enabled":"disabled"))})};return n(()=>{c(ua.microphone)},[t]),e.createElement("div",{title:"Microphone"},e.createElement(d,G({},i?{iconName:"microphone"}:{iconSvg:e.createElement(Ac,null)},{variant:"icon",onClick:()=>{s.current||c(!ua.microphone)}})))}Fc.propTypes={connection:s.object};var Bc=t(Fc);function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_c.apply(null,arguments)}var Nc=({styles:t={},...n})=>e.createElement("svg",_c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M7 15V1L1 6v4l6 5zM15.01 5.75l-4.5 4.5M15.01 10.25l-4.5-4.5"}));function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pc.apply(null,arguments)}var Lc=({styles:t={},...n})=>e.createElement("svg",Pc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M7 15V1L1 6v4l6 5zM11 5v6"}));function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$c.apply(null,arguments)}var jc=({styles:t={},...n})=>e.createElement("svg",$c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M7 15V1L1 6v4l6 5zM15 3v10M11 5v6"}));const zc=ae("Audio");function Wc({connection:t}){const[n,r]=e.useState(ua.volume),[o,i]=e.useState(ua.volume),a=e=>{r(e),ua.volume=e,da(),t.setVolume(e),zc.debug(`Client volume level set to ${e}`)};return e.createElement(l,{position:"bottom",size:"large",triggerType:"custom",header:"Volume",dismissButton:!1,content:e.createElement(p,{direction:"horizontal",size:"s"},e.createElement(d,{iconSvg:Uc(n),variant:"icon",onClick:()=>{a(n?0:o)}}),e.createElement("input",{type:"range",style:{verticalAlign:"middle",width:"150px",height:"100%"},orient:"horizontal",min:"0",max:"100",step:"1",value:o,onChange:e=>{return t=Number(e.target.value),i(t),void a(t);var t}}),e.createElement("div",{style:{display:"flex",width:"3ch",textAlign:"center",alignItems:"center",justifyContent:"center",height:"100%"}},e.createElement("output",null,o)))},e.createElement("div",{title:"Audio"},e.createElement(d,{iconSvg:Uc(n),variant:"icon"})))}function Uc(t){return t<=0?e.createElement(Nc,null):t<=50?e.createElement(Lc,null):e.createElement(jc,null)}Wc.propTypes={connection:s.object};var Vc,Hc,qc=t(Wc),Gc={};function Kc(e){return e<1e3?`${e.toFixed(1)} bps`:e<1e6?`${(e/1e3).toFixed(1)} kbps`:`${(e/1e6).toFixed(1)} Mbps`}Hc||(Hc=1,function(){if(Vc)return Gc;Vc=1;var e=ro(),t=xe(),n=mo(),r=Ot(),o=kn(),i=fo(),a=uo(),s=po()("some",TypeError);e({target:"Iterator",proto:!0,real:!0,forced:s},{some:function(e){o(this);try{r(e)}catch(e){a(this,"throw",e)}if(s)return t(s,this,e);var c=i(this),l=0;return n(c,function(t,n){if(e(t,l++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})}());const Qc=({label:t,color:n,children:r})=>e.createElement("div",null,e.createElement(f,{margin:{bottom:"xxxs"}},e.createElement(p,{direction:"horizontal",size:"xxs"},n&&e.createElement(Yc,{color:n}),e.createElement(f,{color:"text-label"},t))),e.createElement("div",null,r));Qc.propTypes={label:s.string,color:s.string,children:s.node};const Yc=({color:t})=>e.createElement("svg",{width:"12",height:"12"},e.createElement("rect",{width:"12",height:"12",style:{fill:t,strokeWidth:"1",stroke:"rgb(0,0,0)"}}));Yc.propTypes={color:s.string};let Zc=null,Jc=[];function Xc({connection:t}){const[o,a]=e.useState(0),[s,c]=e.useState(0),[l,u]=e.useState(0),[h,v]=e.useState(""),[y,w]=e.useState(""),[E,S]=e.useState([]),[x,k]=e.useState(!1),O=r();O.current=x;const R=()=>{const e=t.getStats();let n,r,o=0;if(Jc.length>60){for(n=[],r=0;r<Jc.length-1;r++)n.push(Jc[r]);Jc=n}for(0===Jc.length?Jc.push({x:0,y:e.traffic}):(Jc.forEach(e=>{e.x++}),Jc.unshift({x:0,y:e.traffic})),r=0;r<Jc.length;r++)o+=Jc[r].y;o/=Jc.length,O.current&&(S(Jc),a(e.traffic),c(o),u(e.peakTraffic)),v(e.latency>999?"> 1 s":`${Math.round(e.latency)} ms`),w(`${e.fps} fps`),Zc=setTimeout(R,1e3)},T=i(()=>{k(!0)},[]);n(()=>(null!==t&&R(),()=>{clearTimeout(Zc)}),[t]);const I=()=>e.createElement("div",{title:"Metrics"},e.createElement(d,{variant:"link",onClick:T},e.createElement(p,{direction:"horizontal",size:"m"},e.createElement(f,{fontWeight:"bold",color:"inherit"},y),e.createElement(f,{fontWeight:"bold",color:"inherit"},h))));return e.createElement("div",null,e.createElement(I,null),x&&e.createElement(m,{onDismiss:()=>{k(!1)},visible:x,size:"medium",header:"Streaming metrics",footer:e.createElement(g,{gridDefinition:[{colspan:4},{colspan:4},{colspan:4}]},e.createElement(Qc,{label:"Current usage",color:j},Kc(o)),e.createElement(Qc,{label:"Average usage",color:z},Kc(s)),e.createElement(Qc,{label:"Peak usage",color:W},Kc(l)))},e.createElement(p,{size:"xl"},e.createElement(g,{gridDefinition:[{colspan:6},{colspan:6}]},e.createElement(Qc,{label:"Framerate"},y),e.createElement(Qc,{label:"Network latency"},h)),e.createElement(M,{variant:"h3",actions:e.createElement(b,{external:!0,externalIconAriaLabel:"Opens in a new tab",href:"https://docs.aws.amazon.com/dcv/latest/userguide/using-streaming.html#using-streaming-metrics"},"Learn more")},"Download bandwidth"),e.createElement(C,{series:[{title:"Current usage",type:"line",data:E,color:j,valueFormatter:Kc},{title:"Average usage",type:"threshold",y:s,color:z,valueFormatter:Kc},...E.some(e=>e.y>=.8*l)?[{title:"Peak usage",type:"threshold",y:l,color:W,valueFormatter:Kc}]:[]],i18nStrings:{xTickFormatter:e=>`${e} s`,yTickFormatter:Kc},xDomain:[60,0],hideFilter:!0,hideLegend:!0,ariaLabel:"Single data series line chart",height:200,empty:e.createElement(f,{textAlign:"center",color:"inherit"},e.createElement("b",null,"No data available"),e.createElement(f,{variant:"p",color:"inherit"},"There is no data available"))}))))}Xc.propTypes={connection:s.object};var el=t(Xc);function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl.apply(null,arguments)}var nl=({styles:t={},...n})=>e.createElement("svg",tl({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M8 12v3M3 15h10"}),e.createElement("circle",{cx:"8",cy:"6.56",r:"5.38"}),e.createElement("path",{d:"M10.25 4.25l-4.5 4.5M10.25 8.75l-4.5-4.5"}));function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rl.apply(null,arguments)}var ol=({styles:t={},...n})=>e.createElement("svg",rl({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M8 12v3M3 15h10"}),e.createElement("circle",{cx:"8",cy:"6.56",r:"5.38"}),e.createElement("path",{d:"M5 6.5h6"}));function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(null,arguments)}var al=({styles:t={},...n})=>e.createElement("svg",il({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M8 12v3M3 15h10"}),e.createElement("circle",{cx:"8",cy:"6.56",r:"5.38"}),e.createElement("circle",{cx:"8",cy:"6.5",r:"2"}));const sl=ae("Webcam");function cl({connection:t,status:o,selectedWebcam:i,setSelectedWebcam:a}){const s=r(!1),c=r(!1),l=e=>{ua.webcam=e,c.current?sl.debug(`Cannot set camera to ${e?"enabled":"disabled"} as a request is already in progress`):(c.current=!0,sl.info("Setting camera to "+(e?"enabled":"disabled")),t.setWebcam(e,i).then(t=>{e&&a(t)}).catch(t=>{const n=`Failed to ${e?"enable":"disable"} camera.`;sl.warn(`${n} Disabling camera. Error (code: ${t.code}): ${t.message}`),gc({level:fc.ERROR,header:"Camera error.",description:n,actions:{dismissable:!0}})}).finally(()=>{c.current=!1}))},u=()=>{l(!ua.webcam)};return n(()=>{"attached"===o&&(u(),s.current=!0)},[i]),n(()=>{"available"===o&&s.current&&(u(),s.current=!1)},[o]),n(()=>{l(ua.webcam)},[t]),e.createElement("div",{title:"Camera"},e.createElement(d,{iconSvg:ll(o),variant:"icon",onClick:u}))}function ll(t){switch(t){case"available":return e.createElement(nl,null);case"attached":return e.createElement(ol,null);case"streaming":return e.createElement(al,null);default:throw new Error(`Illegal camera serviceStatus: ${t}`)}}cl.propTypes={connection:s.object,status:s.string,selectedWebcam:s.string,setSelectedWebcam:s.func};var ul,dl,ml=t(cl),fl={};function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl.apply(null,arguments)}dl||(dl=1,function(){if(ul)return fl;ul=1;var e=ro(),t=xe(),n=mo(),r=Ot(),o=kn(),i=fo(),a=uo(),s=po()("find",TypeError);e({target:"Iterator",proto:!0,real:!0,forced:s},{find:function(e){o(this);try{r(e)}catch(e){a(this,"throw",e)}if(s)return t(s,this,e);var c=i(this),l=0;return n(c,function(t,n){if(e(t,l++))return n(t)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})}());var hl=({styles:t={},...n})=>e.createElement("svg",pl({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M14 6.5l-3-3-3 3M11 4v10M8 9.5l-3 3-3-3M5 2v10"}));const gl=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}),bl={text:"Storage",href:null},vl=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],yl=ae("Filestorage");let wl,El=!1;function Sl({connection:t,downloadEnabled:o,uploadEnabled:a}){const[s,c]=e.useState(!1),l=r(!1),[u,h]=e.useState(!0),[g,v]=e.useState(!1),[y,w]=e.useState([]),[E,S]=e.useState([bl]),[x,M]=e.useState(1),[C,D]=e.useState(bl.href),F=r(bl.href),[B,_]=e.useState([]),[N,P]=e.useState(""),[L,$]=e.useState(""),[j,z]=e.useState(!1),[W,U]=e.useState(!1),[V,H]=e.useState(!1),q=r(null),G=r(null),K=r(null),Q=()=>Math.max(5,Math.floor((window.innerHeight-320-86)/42)),Y=()=>B.slice((x-1)*Q(),x*Q()),Z=(t,n)=>e.createElement("div",{style:{display:"flex",alignItems:"center",height:"100%"}},e.createElement(I,{name:t}),n&&e.createElement("span",{style:{marginLeft:"5px"}},n)),J=t=>{let n,r=t&&"/"!==t&&"Storage"!==t?t:"",o=[];yl.debug(`Changing to directory ${r}`),n=wl.list(r),n.on("error",t=>{1===t.code||2===t.code?yl.info(`Aborted listing of ${r} folder`):(yl.warn(`Failed to list ${r} folder (${t.message})`),gc({level:fc.ERROR,header:"File storage error.",description:e.createElement("div",null,"Failed to list files in ",r," folder.",e.createElement("br",null),"Error: ",t.message," (code: ",t.code,")"),actions:{dismissable:!0}}),J())}).on("success",()=>{yl.debug("List files succeeded"),_(o),t!==C&&w([]),(e=>{let t=e.split("/"),n=[bl],r="";t.filter(e=>""!==e).forEach(e=>{r+=`/${e}`,n.push({text:e,path:r,href:null})}),S(n),D(e),F.current=e,M(1)})(r)}).on("newItems",e=>{yl.debug(`New items ${e.length}`),yl.debug(`update list folders ${C}`),o.push(...e)}).run()},X=()=>{El?J(C):J()},ee=()=>{c(!0),t.getFileExplorer().then(e=>{wl=e,X(),t.setUploadBandwidth(102400)}).catch(()=>{h(!1)})},te=()=>{l.current=!1,c(!1),t.setUploadBandwidth(10240),El=!1,H(!1)},ne=(t,n)=>{let r,o,i=n||""===n?n:C;o=gc({level:fc.INFO,header:"Upload in progress.",description:`File ${t.name} is uploading to Storage ${C}`,progress:0,actions:{decline:{text:"Stop uploading",callback:()=>r.cancel(),remove:!0}}}),r=wl.storeFile(t,i),r.on("error",n=>{1!==n.code&&gc({level:fc.ERROR,header:"Upload error.",description:e.createElement("div",null,"Failed to upload ",t.name," to Storage",i,".",e.createElement("br",null),"Error: ",n.message," (code: ",n.code,")"),actions:{dismissable:!0}},o)}).on("progress",(e,t)=>{vc(Math.floor(100*e/t),o)}).on("success",()=>{gc({level:fc.SUCCESS,header:"File uploaded.",description:`File ${t.name} successfully uploaded to Storage${C}`,actions:{dismissable:!0}},o),El=!0,X()}).run()},re=e=>{const t=e.target.files;t&&t.length>0?(yl.debug("A file to upload has been selected."),ne(t[0])):yl.debug("No file to upload has been selected.")},oe=t=>{wl.retrieveFile(t).on("error",n=>{gc({level:fc.ERROR,header:"Download error.",description:e.createElement("div",null,"Impossible to download file ",t,".",e.createElement("br",null),"Error: ",n.message," (code: ",n.code,")"),actions:{dismissable:!0}})}).on("success",()=>{gc({level:fc.SUCCESS,header:"File ready for download.",description:`File ${t} ready to be downloaded to your device.`,actions:{dismissable:!0}})}).run()},ie=()=>{N.length>0&&N!==L&&((()=>{let t,n="folder"===y[0].type,r=y[0].displayName,o=`${C}/${r}`,i=`${C}/${N}`;t=n?wl.renameDirectory(o,i):wl.renameFile(o,i),t.on("error",t=>{gc({level:fc.ERROR,header:"Rename error.",description:e.createElement("div",null,"Failed to rename ",(n?"folder ":"file ")+r," to ",N,".",e.createElement("br",null),"Error: ",t.message," (code: ",t.code,")"),actions:{dismissable:!0}})}).on("success",()=>{yl.debug("Rename succeeded."),gc({level:fc.SUCCESS,header:(n?"Folder":"File")+" renamed.",description:`${n?"Folder":"File"} successfully renamed from ${r} to ${N}.`,actions:{dismissable:!0}}),El=!0,X()}).run()})(),w([])),U(!1),P("")},ae=()=>{const e=B.map(e=>({...e}));e.shift(),_(e)},se=()=>{N.length>0?wl.createDirectory(`${C}/${N}`).on("error",t=>{ae(),gc({level:fc.ERROR,header:"Folder creation error.",description:e.createElement("div",null,"Failed to create folder ",N,".",e.createElement("br",null),"Error: ",t.message," (code: ",t.code,")"),actions:{dismissable:!0}})}).on("success",()=>{yl.debug("Mkdir succeeded"),gc({level:fc.SUCCESS,header:"Folder created.",description:`Folder ${N} successfully created.`,actions:{dismissable:!0}}),El=!0,X()}).run():ae(),z(!1),P("")},ce=e=>{for(const t of e)if("file"!==t.kind)return!1;return!0},le=e=>{El=!0,!_i()&&!s&&a&&ce(e.dataTransfer.items)&&(l.current=!0,ee())},ue=i(e=>{e.stopPropagation(),!e.relatedTarget&&l.current&&s&&te()}),de=t=>{switch(t){case"download":oe(`${C}/${y[0].displayName}`);break;case"open":J(`${C}/${y[0].displayName}`);break;case"rename":$(y[0].displayName),P(y[0].displayName),U(!0);break;case"delete":wl.deleteFile(`${C}/${y[0].displayName}`).on("error",t=>{gc({level:fc.ERROR,header:"Deletion error.",description:e.createElement("div",null,"Failed to delete file ",y[0].displayName,".",e.createElement("br",null),"Error: ",t.message," (code: ",t.code,")"),actions:{dismissable:!0}})}).on("success",()=>{yl.debug("Remove succeeded"),gc({level:fc.SUCCESS,header:"File deleted.",description:`File ${y[0].displayName} successfully deleted.`,actions:{dismissable:!0}}),El=!0,X()}).run();break;default:yl.warn("Invalid dropdown action selected")}},me=t=>e.createElement(d,{onClick:()=>t.current.click()},e.createElement("input",{style:{display:"none"},type:"file",ref:t,onChange:re,onClick:e=>{e.target.value=""}}),"Upload file"),fe=e.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},e.createElement(p,{direction:"horizontal",size:"s"},e.createElement(k,{disabled:!y.length,onItemClick:({detail:e})=>de(e.id),items:[...o?[{text:"Download",id:"download",disabled:y.length&&"file"!==y[0].type}]:[],{text:"Rename",id:"rename",disabled:y.length&&!Y().filter(e=>e.displayName===y[0].displayName).length}]},"Actions"),a&&me(q),e.createElement(d,{onClick:()=>{_([{displayName:null,type:"folder"}].concat(B.map(e=>({...e})))),w([]),z(!0),M(1)}},"Create folder")),e.createElement(O,{currentPageIndex:x,onChange:({detail:e})=>M(e.currentPageIndex),pagesCount:Math.ceil(B.length/Q()),ariaLabels:{nextPageLabel:"Next page",previousPageLabel:"Previous page",pageLabel:e=>`Page ${e}`}})),pe=[{id:"name",header:"Name",cell:function(t){return Z(t.type,(t=>{const n=(t,n)=>e.createElement(A,{ref:K,onChange:({detail:e})=>P(e.value),onBlur:t,onKeyUp:({detail:e})=>{13===e.keyCode&&t()},value:N,placeholder:n,disableBrowserAutocorrect:!0,inputMode:"text"});return W&&t.displayName===y[0].displayName?n(ie,t.displayName):j&&null===t.displayName?n(se,"New folder"):"file"===t.type?o?e.createElement(b,{ariaLabel:"Download",onFollow:()=>oe(`${C}/${t.displayName}`)},t.displayName):t.displayName:e.createElement(b,{ariaLabel:"Open",onFollow:g?()=>{}:()=>{J(`${C}/${t.displayName}`)}},t.displayName)})(t))},minWidth:380},{id:"lastModified",header:"Last modified",cell:function(t){return e.createElement(f,{variant:"p"},t.displayName&&t.lastModified?gl.format(new Date(t.lastModified)):"-")},minWidth:180},{id:"size",header:"Size",cell:function(t){return e.createElement(f,{variant:"p"},"file"===t.type?xl(t.size):"-")},minWidth:140}],he=e=>{o&&(yl.debug("Asking to download resource"),e.accept())};return n(()=>()=>{El=!1,wl=null},[]),n(()=>{(W||j)&&(K.current.focus(),W&&K.current.select())},[W,j]),n(()=>(yo.on("file-download",he),()=>{yo.off("file-download",he)}),[o]),n(()=>(window.addEventListener("dragenter",le),window.addEventListener("dragleave",ue),()=>{window.removeEventListener("dragenter",le),window.removeEventListener("dragleave",ue)})),e.createElement("div",null,e.createElement("div",{title:"Filestorage"},e.createElement(d,{variant:"icon",iconSvg:e.createElement(hl,null),onClick:ee})),e.createElement(m,{onDismiss:te,visible:s,header:"File storage",size:"large",modalRoot:window.document.body},u?e.createElement("div",{onDragEnter:e=>H(!_i()&&ce(e.dataTransfer.items))},e.createElement(f,{margin:{bottom:"xs"},padding:{bottom:"xs"}},e.createElement(p,{size:"xxs"},e.createElement(p,{direction:"horizontal",size:"s"},Z("folder-open",""),e.createElement(R,{items:E,onClick:g?()=>{}:({detail:e})=>J(e.item.path)})),e.createElement("div",{style:{height:42*Q()+86,position:"relative"}},e.createElement(T,{resizableColumns:!0,loadingText:"Loading resources",selectionType:"single",columnDefinitions:pe,items:Y(),selectedItems:y,onSelectionChange:({detail:e})=>w(e.selectedItems),header:fe,empty:e.createElement(f,{textAlign:"center",color:"inherit",variant:"h5",margin:"m"},a&&!_i()?e.createElement(e.Fragment,null,e.createElement("p",null,"Drag and drop a file to upload"),e.createElement("p",null," Or "),me(G)):e.createElement("p",null,"Folder ",E[E.length-1].text," is empty"))}),V&&a&&e.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",position:"absolute",alignItems:"center",bottom:"0px",width:"100%",height:42*Q(),opacity:"0.8",outline:"2px",border:"2px dashed gray",backgroundColor:"white"},onDrop:t=>{t.preventDefault(),H(!1),((t,n)=>{if(!t[0])return void yl.debug("Dropped file is null");const r=t[0].webkitGetAsEntry()||t[0].getAsEntry();if(r)if(r.isFile&&1===t.length)r.file(e=>{e.name.startsWith(".")||ne(e,n)},()=>yl.debug(`File not retrieved: ${r.name}`));else{v(!0);const r=wl.uploadFiles(t,n),o=gc({level:fc.INFO,header:"Upload of dropped files in progress.",description:`Dropped files are uploading to Storage${n}`,progress:0,actions:{decline:{text:"Stop uploading",callback:()=>{r.cancel(),v(!1)},remove:!0}}});let i=0;r.on("error",t=>{1!==t.code&&(gc({level:fc.ERROR,header:"Upload dropped files error.",description:e.createElement("div",null,"Failed to upload dropped files",e.createElement("br",null),"Error: ",t.message," ",t.code?`(code: ${t.code})`:""),actions:{dismissable:!0}},o),v(!1))}).on("progress",(e,t,n,r,a,s,{destinationFolder:c,isDirectory:l})=>{vc(Math.floor(e/t*100),o,e,t,n,r),F.current===c&&(l||n>i)&&J(c),i=n}).on("success",()=>{gc({level:fc.SUCCESS,header:"Dropped files uploaded.",description:`Dropped files successfully uploaded to Storage${n}`,actions:{dismissable:!0}},o),v(!1)}).run()}else yl.debug("Dropped file is null")})(t.dataTransfer.items,C||"")},onDragOver:e=>e.preventDefault(),onDragLeave:()=>H(!1)},e.createElement(f,{textAlign:"center",color:"inherit",variant:"h5"},"Drag and drop your files to start uploading")))))):e.createElement(f,{textAlign:"center",color:"inherit",variant:"h5"},"File storage is not available")))}function xl(e){if(li(e))return"-";if(0===e)return`0 ${vl[0]}`;const t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(2))} ${vl[t]}`}Sl.propTypes={connection:s.object,downloadEnabled:s.bool,uploadEnabled:s.bool};var kl=t(Sl);const Ml=1e3,Cl={MINUTE:60};Cl.HOUR=Cl.MINUTE**2,Cl.DAY=24*Cl.HOUR;const Ol=(e,t)=>Math.floor(e/t),Rl={just_now:{limit:10,updateInterval:1,text:e=>"now"},less_than_min:{limit:Cl.MINUTE,updateInterval:1,text:e=>"< 1m ago"},n_min_ago:{limit:Cl.HOUR,updateInterval:30,text:e=>`${Ol(e,Cl.MINUTE)}m ago`},n_hours_ago:{limit:Cl.DAY,updateInterval:15*Cl.MINUTE,text:e=>`${Ol(e,Cl.HOUR)}h ago`},n_days_ago:{text:e=>`${Ol(e,Cl.DAY)}d ago`}};function Tl(){const[t,r]=e.useState([]),o=t=>{return n=t,r=0,o=100,Number.isFinite(n)&&n>=r&&n<=o?e.createElement(B,{value:t}):null;var n,r,o};return n(()=>{const e=e=>r(Array.isArray(e)?e:[]);return yo.on("notifications-update",e),()=>{yo.off("notifications-update",e)}},[]),e.createElement(l,{position:"bottom",size:"medium",fixedWidth:!0,triggerType:"custom",dismissButton:!1,content:t.length?e.createElement("div",{style:{maxHeight:Math.floor(.8*window.innerHeight),overflow:"auto"}},e.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 0"}},e.createElement(f,{fontSize:"heading-s",fontWeight:"normal",variant:"h2"},"Notifications"),e.createElement(d,{onClick:()=>{t.forEach(e=>{e.actions&&(e.actions.decline&&("function"==typeof e.actions.decline.callback&&e.actions.decline.callback(),e.actions.decline.remove&&bc(e.id)),e.actions.dismissable&&bc(e.id))})}},"Clear all")),Object.values(fc).map(e=>e.importance).sort((e,t)=>t-e).filter((e,t,n)=>!t||e!==n[t-1]).map(n=>t.filter(e=>e.level.importance===n).map(t=>e.createElement(f,{margin:{horizontal:"xxxs",vertical:"m"},key:t.id},e.createElement(D,null,e.createElement(f,null,(t=>{const n=e.createElement(u,{type:t.level.status},t.header||di(t.level.status));return"dismissable"in t.actions?e.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n,e.createElement("div",{style:{paddingLeft:"10px"}},e.createElement(d,{variant:"icon",iconName:"close",iconAlign:"right",onClick:()=>bc(t.id)}))):n})(t)),t.timestamp&&e.createElement(Al,{timestamp:t.timestamp}),t.description&&e.createElement(f,{margin:{top:"xxs"}},t.description),t.uploadedFiles&&e.createElement(f,{margin:{top:"s"}},`Files uploaded: ${t.uploadedFiles} / ${t.totalFiles} `),t.uploadedBytes&&e.createElement(f,{margin:{top:"s"}},`Bytes uploaded: ${xl(t.uploadedBytes)} / ${xl(t.totalBytes)}`),null!==t.progress&&e.createElement(f,{margin:{top:"s"}},o(t.progress)),("decline"in t.actions||"accept"in t.actions)&&e.createElement(f,{margin:{top:"s"}},(t=>{const n=1===Object.keys(t.actions).filter(e=>-1!==["accept","decline"].indexOf(e)).length?"flex-start":"space-between";return e.createElement("div",{style:{display:"flex",justifyContent:n}},"decline"in t.actions&&e.createElement(d,{onClick:()=>{"function"==typeof t.actions.decline.callback&&t.actions.decline.callback(),t.actions.decline.remove&&bc(t.id)}},t.actions.decline.text),"accept"in t.actions&&e.createElement("div",null,e.createElement(d,{variant:"primary",onClick:()=>{"function"==typeof t.actions.accept.callback&&t.actions.accept.callback(),t.actions.accept.remove&&bc(t.id)}},t.actions.accept.text)))})(t))))))):e.createElement(f,{padding:{horizontal:"xxl",vertical:"m"},variant:"p",color:"text-status-inactive",textAlign:"center"},"No notifications to display")},e.createElement("div",{title:"Notifications"},e.createElement(F,{color:(()=>{let e="grey",n=-1;return t.forEach(t=>{t.level.importance>n&&(n=t.level.importance,e=t.level.color)}),e})()},t.length)))}var Il=t(Tl);function Al(t){const[r,o]=e.useState((Date.now()-t.timestamp)/Ml),i=e=>Object.values(Rl).find(t=>!("limit"in t)||e<t.limit),a=e=>{o((Date.now()-e)/Ml)};return n(()=>{const e=i(r).updateInterval;let n=null;return e&&(n=setInterval(a,e*Ml,t.timestamp)),()=>{n&&(clearInterval(n),n=null)}},[]),e.createElement(f,{variant:"small",textAlign:"right",display:"block",fontWeight:"light"},i(s=r).text(s));var s}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(null,arguments)}Al.propTypes={timestamp:s.number};var Fl=({styles:t={},...n})=>e.createElement("svg",Dl({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},n),e.createElement("g",{stroke:"#545b64",strokeWidth:"2"},e.createElement("path",{d:"M12 8h0a3 3 0 013 3v3.14a.86.86 0 01-.86.86H9.86a.86.86 0 01-.86-.86V11a3 3 0 013-3z",strokeLinejoin:"round",fill:"none"}),e.createElement("circle",{cx:"12",cy:"3.5",r:"2.5",strokeMiterlimit:"10",fill:"none"}),e.createElement("circle",{cx:"4",cy:"3.5",r:"2.5",fill:"#545b64",strokeMiterlimit:"10"}),e.createElement("path",{d:"M4 8h0a3 3 0 013 3v3.14a.86.86 0 01-.86.86H1.86a.86.86 0 01-.86-.86V11a3 3 0 013-3z",fill:"#545b64",strokeLinejoin:"round"})));function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bl.apply(null,arguments)}var _l=({styles:t={},...n})=>e.createElement("svg",Bl({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},n),e.createElement("g",{fill:"none",stroke:"#545b64",strokeWidth:"2"},e.createElement("circle",{cx:"8",cy:"3.5",r:"2.5",strokeMiterlimit:"10"}),e.createElement("path",{d:"M8 8h0a3 3 0 013 3v3.14a.86.86 0 01-.86.86H5.86a.86.86 0 01-.86-.86V11a3 3 0 013-3z",strokeLinejoin:"round"})));let Nl=[];const Pl=e=>({username:e.username,connectionIds:[e.connectionId],owner:e.owner}),Ll=e=>{if(0!==Nl.length){const t=e.map(e=>e.connectionId),n=Nl.map(e=>e.connectionIds).flat();(e=>{let t,n;e.forEach(e=>{const r=Nl.find(t=>t.connectionIds.includes(e));n=r.owner?"Session owner":"Collaborator",t=`${n} '${r.username}' has disconnected from this session.`,gc({level:fc.INFO,header:"Client disconnected.",description:t,actions:{dismissable:!0}})})})(n.filter(e=>!t.some(t=>e===t)));const r=e.filter(e=>!n.some(t=>e.connectionId===t));(e=>{let t,n;e.forEach(e=>{n=e.owner?"Session owner":"Collaborator",t=`${n} '${e.username}' has joined this session.`,gc({level:fc.INFO,header:"New client connected.",description:t,actions:{dismissable:!0}})})})(r)}};function $l(e){(e=>{yo.emit("collaboration-status-update",e.length>1)})(e),Ll(e),(e=>{Nl=[];const t=e.length;for(let n=0;n<t;n++){const t=Nl.find(t=>t.username===e[n].username);t?t.connectionIds.push(e[n].connectionId):Nl.push(Pl(e[n]))}Nl.sort((e,t)=>e.username<t.username?-1:1)})(e),jl()}function jl(){yo.emit("collaborator-list-update",Nl)}function zl(e,t){t.forEach(t=>{t!==e.id&&e.disconnectCollaborator(t)})}function Wl({connection:t}){const[r,o]=e.useState([]),[i,a]=e.useState(!1);return n(()=>{const e=e=>{a(e.some(e=>e.owner&&e.connectionIds.includes(t.id))),o(e)};return yo.on("collaborator-list-update",e),jl(),()=>{yo.off("collaborator-list-update",e)}},[]),e.createElement(l,{position:"bottom",size:"medium",triggerType:"custom",dismissButton:!1,content:r.length?e.createElement("div",{style:{maxHeight:Math.floor(.8*window.innerHeight),overflow:"auto"}},e.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 0 15px"}},e.createElement(f,{fontSize:"heading-s",fontWeight:"normal",variant:"h2"},"Collaborators"),i&&r.length>2&&e.createElement("div",{style:{marginLeft:"30px"}},e.createElement(d,{onClick:()=>function(e){Nl.forEach(t=>zl(e,t.connectionIds))}(t)},"Disconnect all"))),e.createElement(D,null,r.map(n=>n.username&&(n=>{const r=n.connectionIds.length>1&&n.connectionIds.includes(t.id)||i&&n.connectionIds.includes(t.id)&&n.connectionIds.length>1||i&&!n.connectionIds.includes(t.id);return e.createElement(f,{key:n.username},e.createElement("div",{style:{display:"flex",justifyContent:"space-between",minWidth:"150px"}},e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement(I,{svg:e.createElement(_l,null),size:"small"}),e.createElement("div",{style:{maxWidth:"200px"}},e.createElement(f,{fontSize:"body-m",fontWeight:"normal",variant:"p",margin:{left:"xs",right:"s"}},`${n.username}${n.connectionIds.length>1?` (${n.connectionIds.length} clients)`:""}`))),r&&e.createElement(d,{variant:"icon",iconName:"close",onClick:()=>zl(t,n.connectionIds)})))})(n)))):e.createElement(f,{padding:{horizontal:"xxl",vertical:"m"},variant:"p",color:"text-status-inactive",textAlign:"center"},"No collaborators to display")},e.createElement("div",{title:"Collaborators"},e.createElement(I,{svg:e.createElement(Fl,null)})))}Wl.propTypes={connection:s.object};var Ul=t(Wl);const Vl="soft-kbd-div";let Hl;function ql({connection:t,softKeyboardVisible:o,setSoftKeyboardVisible:i}){const a=r(!1);a.current=o;const s=e=>{e.setSelectionRange(e.value.length,e.value.length)},c=()=>{i(!0),Hl.focus(),(Pi()||Fi())&&(Hl.click(),window.scrollTo(0,0),document.body.scrollTop=0,document.scrollingElement.scrollTop=0)},l=()=>{Hl=document.getElementById("dcv-softkbd-hid-input"),Hl&&c()},u=()=>{const e=document.createElement("input");e.setAttribute("id","dcv-softkbd-hid-input"),e.setAttribute("type","text"),e.style.caretColor="transparent",e.style.color="transparent",e.style.background="transparent",e.style.border="none",e.style.fontSize="1pt",e.style.height="1px",e.style.width="1px",e.defaultValue="&",e.value=Di()?"&":"",e.setAttribute("writingSuggestions",!1),e.setAttribute("autocomplete","off"),Hl=e},d=()=>{a.current?(Hl=document.getElementById("dcv-softkbd-hid-input"),Hl&&(Hl.blur(),document.getElementById(Vl).removeChild(Hl)),i(!1)):(Hl=document.getElementById("dcv-softkbd-hid-input"),Hl||u(),document.getElementById(Vl).appendChild(Hl),c())};return n(()=>{const e=t.sendKeyboardEvent.bind(t),n=t=>{if(Hl=document.getElementById("dcv-softkbd-hid-input"),Hl){s(Hl);const n=new KeyboardEvent("keydown",{key:t.data??"Backspace",location:KeyboardEvent.DOM_KEY_LOCATION_STANDARD,code:""}),r=new KeyboardEvent("keyup",n);e(n),e(r),Hl.value="&",s(Hl)}},r=t=>{"Unidentified"!==t.key&&e(t)},i=e=>{Hl=document.getElementById("dcv-softkbd-hid-input"),Hl&&(s(Hl),r(e))},a=Di()?r:e;return o&&((e,t,n)=>{Hl=document.getElementById("dcv-softkbd-hid-input"),Hl&&(Hl.addEventListener("focusout",l),Hl.addEventListener("keydown",e),Hl.addEventListener("keyup",Di()?n:e),Hl.addEventListener("keypress",e),Di()&&Hl.addEventListener("input",t))})(a,n,i),()=>((e,t,n)=>{Hl=document.getElementById("dcv-softkbd-hid-input"),Hl&&(Hl.removeEventListener("focusout",l),Hl.removeEventListener("keydown",e),Hl.removeEventListener("keyup",Di()?n:e),Hl.removeEventListener("keypress",e),Di()&&Hl.removeEventListener("input",t))})(a,n,i)},[t,o]),n(()=>(Ai()&&yo.on("toggle-keyboard",d),u(),()=>{Ai()&&yo.off("toggle-keyboard",d),Hl=null,i(!1)}),[]),e.createElement(e.Fragment,null," ")}ql.propTypes={connection:s.object,softKeyboardVisible:s.bool,setSoftKeyboardVisible:s.func};var Gl=t(ql);function Kl(e,t){return Kl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Kl(e,t)}function Ql(e){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(e)}function Yl(e,t){if(t&&("object"===Ql(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zl(e){return Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zl(e)}var Jl,Xl,eu,tu,nu={exports:{}};function ru(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Zl(e);if(t){var o=Zl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yl(this,n)}}nu.exports=function(){if(tu)return eu;tu=1;var e=Xl?Jl:(Xl=1,Jl="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,eu=function(){function r(t,n,r,o,i,a){if(a!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function o(){return r}r.isRequired=r;var i={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}()();var ou,iu,au,su=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kl(e,t)}(r,e.PureComponent);var t,n=ru(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).container=null,t.window=null,t.windowCheckerInterval=null,t.released=!1,t.state={mounted:!1},t}return(t=[{key:"render",value:function(){return this.state.mounted?K.createPortal(this.props.children,this.container):null}},{key:"componentDidMount",value:function(){this.window||this.container||(this.openChild(),this.setState({mounted:!0}))}},{key:"openChild",value:function(){var e,t=this,n=this.props,r=n.url,o=n.title,i=n.name,a=n.features,s=n.onBlock,c=n.onOpen,l=n.center;if("string"!=typeof l||void 0!==a.width&&void 0!==a.height){if("parent"===l)a.left=window.top.outerWidth/2+window.top.screenX-a.width/2,a.top=window.top.outerHeight/2+window.top.screenY-a.height/2;else if("screen"===l){var u=void 0!==window.screenLeft?window.screenLeft:window.screen.left,d=void 0!==window.screenTop?window.screenTop:window.screen.top,m=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,f=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height;a.left=m/2-a.width/2+u,a.top=f/2-a.height/2+d}}else console.warn("width and height window features must be present when a center prop is provided");if(this.window=window.open(r,i,(e=a,Object.keys(e).reduce(function(t,n){var r=e[n];return"boolean"==typeof r?t.push("".concat(n,"=").concat(r?"yes":"no")):t.push("".concat(n,"=").concat(r)),t},[]).join(","))),this.container=this.window.document.createElement("div"),this.windowCheckerInterval=setInterval(function(){t.window&&!t.window.closed||t.release()},50),this.window){if(this.window.document.title=o,this.container=this.window.document.getElementById("new-window-container"),null===this.container)this.container=this.window.document.createElement("div"),this.container.setAttribute("id","new-window-container"),this.window.document.body.appendChild(this.container);else{var p=this.window.document.getElementById("new-window-container-static");this.window.document.body.removeChild(p)}this.props.copyStyles&&setTimeout(function(){return e=document,n=t.window.document,r=n.createDocumentFragment(),Array.from(e.styleSheets).forEach(function(e){var t;try{t=e.cssRules}catch(e){console.error(e)}if(t){var o=[];Array.from(e.cssRules).forEach(function(e){var t=e.type;if(t!==CSSRule.UNKNOWN_RULE){var n;n=t===CSSRule.KEYFRAMES_RULE?function(e){var t=["@keyframes",e.name,"{"];return Array.from(e.cssRules).forEach(function(e){t.push(e.keyText,"{",e.style.cssText,"}")}),t.push("}"),t.join(" ")}(e):[CSSRule.IMPORT_RULE,CSSRule.FONT_FACE_RULE].includes(t)?function(e){return e.cssText.split("url(").map(function(e){return"/"===e[1]?"".concat(e.slice(0,1)).concat(window.location.origin).concat(e.slice(1)):e}).join("url(")}(e):e.cssText,o.push(n)}});var i=n.createElement("style");i.textContent=o.join("\n"),r.appendChild(i)}else if(e.href){var a=n.createElement("link");a.rel="stylesheet",a.href=e.href,r.appendChild(a)}}),void n.head.appendChild(r);var e,n,r},0),"function"==typeof c&&c(this.window),this.window.addEventListener("beforeunload",function(){return t.release()})}else"function"==typeof s?s(null):console.warn("A new window could not be opened. Maybe it was blocked.")}},{key:"componentWillUnmount",value:function(){if(this.state.mounted&&this.window)if(this.props.closeOnUnmount)this.window.close();else if(this.props.children){var e=this.container.cloneNode(!0);e.setAttribute("id","new-window-container-static"),this.window.document.body.appendChild(e)}}},{key:"release",value:function(){if(!this.released){this.released=!0,clearInterval(this.windowCheckerInterval);var e=this.props.onUnload;"function"==typeof e&&e(null)}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r.prototype,t),r}();function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu.apply(null,arguments)}au={url:"",name:"",title:"",features:{width:"600px",height:"640px"},onBlock:null,onOpen:null,onUnload:null,center:"parent",copyStyles:!0,closeOnUnmount:!0},(iu="defaultProps")in(ou=su)?Object.defineProperty(ou,iu,{value:au,enumerable:!0,configurable:!0,writable:!0}):ou[iu]=au,su.propTypes={children:nu.exports.node,url:nu.exports.string,name:nu.exports.string,title:nu.exports.string,features:nu.exports.object,onUnload:nu.exports.func,onBlock:nu.exports.func,onOpen:nu.exports.func,center:nu.exports.oneOf(["parent","screen"]),copyStyles:nu.exports.bool,closeOnUnmount:nu.exports.bool};var lu=({styles:t={},...n})=>e.createElement("svg",cu({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M5.5 12v3M.5 15h10M1 5h9v7H1z"}),e.createElement("path",{d:"M5 4V1h9v7h-4"}));function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uu.apply(null,arguments)}var du=({styles:t={},...n})=>e.createElement("svg",uu({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),e.createElement("path",{d:"M5.5 12v3M.5 15h10M5 1h9v7H5z"}),e.createElement("path",{d:"M5 5H1v7h9V8M11.75 2.25l-4.5 4.5M11.75 6.75l-4.5-4.5"}));const mu=ae("Multiscreen");function fu({connection:t,copyEnabled:r,pasteEnabled:o,appearanceMode:i,toolbarBehavior:a,pendingDisplays:s}){const[c,l]=e.useState(!1),[u,m]=e.useState(null),f=()=>{yo.emit("close-secondary-display")},p=()=>{const e=Du();l(!1),e&&t&&(Au(null),t.detachDisplay(e)),u&&!u.closed&&(u.close(),m(null))};return n(()=>(yo.on("close-secondary-display",p),()=>{yo.off("close-secondary-display",p)}),[u,t]),e.createElement(e.Fragment,null,e.createElement("div",{title:"Multiple screens"},e.createElement(d,{iconSvg:c?e.createElement(du,null):e.createElement(lu,null),variant:"icon",onClick:()=>{c?p():l(!0)}})),c&&e.createElement(su,{features:{height:window.innerHeight,width:window.innerWidth},name:"DCV Secondary Window",title:`${t.getServerInfo().hostname} - Amazon DCV`,onUnload:f,onBlock:f,onOpen:e=>{e.opener=null,m(e),yo.once("open-secondary-display",()=>(e=>{e?s.length?(Au(s[0]),t.attachDisplay(e,{displayDivName:"dcv-display",displayId:s[0]}).then(e=>Au(e)).catch(e=>{mu.error(`Cannot open secondary display (Error: ${e.code} ${e.message})`),p()})):t.attachDisplay(e,{displayDivName:"dcv-display"}).then(e=>Au(e)).catch(e=>{mu.error(`Cannot open secondary display (Error: ${e.code} ${e.message})`),p()}):p()})(e))},closeOnUnmount:!0},e.createElement(Fu,{isPrimary:!1,connection:t,copyEnabled:r,pasteEnabled:o,window:u,appearanceMode:i,toolbarBehavior:a})))}fu.propTypes={connection:s.object,copyEnabled:s.bool,pasteEnabled:s.bool,appearanceMode:s.oneOf([Qi,Gi,Ki]),toolbarBehavior:s.oneOf([ji,Ui,Hi]),pendingDisplays:s.arrayOf(s.number)};var pu=t(fu);const hu=ae("Viewer"),gu={position:"relative",margin:"auto",outline:"none"},bu={height:"100%",overflow:"hidden",position:"relative"},vu={position:"absolute",width:"100%",zIndex:1e3,pointerEvents:"all"},yu={display:"flex",flexFlow:"row wrap",alignItems:"center","--gap":"32px",marginLeft:"calc(var(--gap) / -2)",marginBottom:"calc(var(--gap) / -2)"},wu={marginLeft:"calc(var(--gap) / 2)",marginBottom:"calc(var(--gap) / 2)"};let Eu,Su,xu=[],ku=null,Mu=null,Cu=null;function Ou({isPrimary:t,connection:o,copyEnabled:s,pasteEnabled:l,window:u,appearanceMode:m,toolbarBehavior:h,uiConfig:g}){const[b,v]=e.useState(!0),[y,E]=e.useState(!1),[S,x]=e.useState(!1),[k,M]=e.useState(!1),[C,O]=e.useState(""),[R,T]=e.useState(""),[I,A]=e.useState(""),[D,F]=e.useState(""),[B,N]=e.useState(ua.selectedWebcamId),[j,z]=e.useState(s||!1),[W,G]=e.useState(!1),[K,Q]=e.useState(l||!1),[Y,Z]=e.useState(ua.metricsEnabled),[J,X]=e.useState(!1),[ee,te]=e.useState(!1),[ne,re]=e.useState(!1),[oe,ie]=e.useState(!1),[se,ce]=e.useState(!1),[le,ue]=e.useState(!1),[de,me]=e.useState(!1),[fe,pe]=e.useState(!1),[he,ge]=e.useState(!1),[be,ve]=e.useState(!1),[ye,we]=e.useState(null),[Ee,Se]=e.useState(ua.appearanceMode),[xe,ke]=e.useState(ua.toolbarBehavior),[Me,Ce]=e.useState(0),[Oe,Re]=e.useState(""),[Te,Ie]=e.useState(!1),[Ae,De]=e.useState(!1),Fe=r(null),Be=r(null),_e=r(!1);_e.current=he,n(()=>{Ai()&&Li(hu)},[]);const Ne=i(e=>!g||!ui(g.toolbar)||!(e in g.toolbar)||g.toolbar[e],[g]),Pe=()=>{tc(o,u,t)},Le=e=>{hu.info(`network interruption alert: ${e}`),Ie(e)},$e=e=>{hu.info(`network offline alert: ${e}`),De(e)},je=e=>{ie(e)},ze=(e,n,r)=>{(li(r)||0===r)&&(E(n),o.setDisplayQuality(ua.minQuality,ua.maxQuality),o.setMaxDisplayResolution(ua.maxDisplayWidth,ua.maxDisplayHeight),o.setMinDisplayResolution(ua.minDisplayWidth,ua.minDisplayHeight),Hs=e,o.setKeyboardQuirks({macOptionToAlt:ua.macOptionToAlt,macCommandToControl:ua.macCommandToControl,forceKeyboardCombinations:ua.forceKeyboardCombinations})),t||Eu?(ge(!0),ve(!0)):hu.info(`Received first frame for an unknown displayId: ${r}`)},We=e=>{Ce(e.setting);const t=e.status;t&&Oe!==t&&(Re(t),t===c.TimezoneRedirectionStatus.PERMISSION_ERROR?gc({level:fc.WARNING,header:"Time Zone Redirection.",description:"This user does not have permission to perform this operation.",actions:{dismissable:!0}}):t===c.TimezoneRedirectionStatus.GENERIC_ERROR&&gc({level:fc.WARNING,header:"Time Zone Redirection.",description:"The setting could not be saved. Please try again.",actions:{dismissable:!0}}))},Ue=(e,n,r)=>{const o=t||li(r)||1===r.length?e:r[1].rect.width,i=t||li(r)||1===r.length?n:r[1].rect.height;uc(r),-1!==[Ji,Xi].indexOf(ua.selectedResolution)?O(nc(o,i)):O(ua.selectedResolution),lc(o,i,u,t)},Ve=i(e=>{!function(e,t,n,r){if(t===Ji)ua.dynamicResolution=!0,tc(e,n,r);else if(ua.dynamicResolution=!1,t!==Xi){const o=rc(t),i=Ai()?Js(n,o[0],o[1]):o;dc(e,i[0],i[1],r)}da()}(o,e,u,t)},[o,u,t]),He=e=>{T(e.remote),"busy"===e.remote?Mu=gc({level:fc.WARNING,header:"Audio input unavailable.",description:"This browser or session does not support audio input.",actions:{dismissable:!0}},Mu):Tu()},qe=e=>{A(e.remote),e.enabled?null!==Cu&&(bc(Cu),Cu=null):(Cu=gc({level:fc.WARNING,header:"Audio output unavailable.",description:"This browser or session does not support audio output.",actions:{dismissable:!0}},Cu),Tu())},Ge=e=>{F(e.serviceStatus)},Ke=({message:t,code:n})=>{gc({level:fc.ERROR,header:"Webcam error.",description:e.createElement("div",null,"Webcam could not be attached.",e.createElement("br",null),"Error: ",t," (code: ",n,")"),actions:{dismissable:!0}})},Qe=e=>{z(e.enabled)},Ye=e=>{Q(e.enabled)},Ze=e=>{E(e.enabled)},Je=e=>{te(e.enabled)},Xe=e=>{re(e.enabled)},et=e=>{M(e.enabled)},tt=e=>{const t=e.currentTarget.getBoundingClientRect();e.clientY===t.top&&(ge(!0),u.document.getElementById("dcv-display").blur())},nt=()=>{ge(!1)},rt=()=>{Be.current=setTimeout(()=>{ge(!1)},1500)},ot=()=>{clearTimeout(Be.current)},it=i(()=>{Fe.current?.focus()},[Fe]),at=e=>{pe(e)},st=e=>{if(!e.enabled){const e=u.document.getElementById("dcv-softkbd-hid-input");e&&u.document.getElementById("soft-kbd-div").removeChild(e)}ce(e.enabled)},ct=e=>{we(e.matches?P.Dark:P.Light),Ee===Qi&&aa(e,u.document.body)},lt=()=>{hu.info("Three finger click, showing toolbar"),ge(!_e.current)},ut=(e,t)=>{const n=xu.indexOf(e);t.closed?(-1!==n&&xu.splice(n,1),e===Su&&yo.emit("close-secondary-display")):t.enabled?Eu=e===Su:-1===n&&xu.push(e)},dt=()=>{hu.error("Webgl rendering lost context, showing information banner."),gc({level:fc.ERROR,header:"There was an error with webgl rendering",description:"Webgl rendering lost context. Please refresh the page to reconnect.",actions:{dismissable:!1}})};n(()=>L($.Compact,u.document.body),[u]),n(()=>(t&&yo.on("filestorage-enabled",X),()=>{t&&yo.off("filestorage-enabled",X)}),[t]),n(()=>(o&&(yo.on("first-frame",ze),yo.on("network-quality-warning",Le),yo.on("network-quality-critical",$e),yo.on("trackpadMode",je),t?(!function(e){ga=ae("Feature Handler"),ba=e}(o),yo.on("display-availability",ut),Sa("audio-in",He),Sa("audio-out",qe),Sa("webcam",Ge),Sa("webcam-error",Ke),Sa("clipboard-copy",Qe),Sa("clipboard-paste",Ye),Sa("relative-mouse",Ze),Sa("file-download",Je),Sa("file-upload",Xe),Sa("display-multi",e=>me(e.enabled&&!Ai())),Sa("keyboard-sas",e=>x(e.enabled)),Sa("screenshot",et),Sa("timezone-redirection",We)):yo.emit("open-secondary-display")),()=>{yo.off("first-frame",ze),yo.off("network-quality-warning",Le),yo.off("network-quality-critical",$e),yo.off("trackpadMode",je),t&&(yo.off("display-availability",ut),va={})}),[o,t]),n(()=>{if(!b){const e=()=>tc(o,u,t);if(Eu&&xu.length){const t=xu.indexOf(Su);-1!==t&&xu.splice(t,1),setTimeout(e,500)}else t&&uc([{name:"",rect:{x:0,y:0,width:Vs&&Vs[0]?Vs[0].rect.width:800,height:Vs&&Vs[0]?Vs[0].rect.height:600},primary:!1}]),e()}},[b]),n(()=>(yo.on("collaboration-status-update",G),()=>{yo.off("collaboration-status-update",G)})),n(()=>(yo.on("display-layout",Ue),()=>{yo.off("display-layout",Ue)}),[xe,o,u,t]),n(()=>{o&&Ai()&&Sa("keyboard",st)},[o,u]),n(()=>{const e=()=>{yo.emit("close-secondary-display"),o&&o.disconnect()};return t&&u.addEventListener("pagehide",e),()=>{t&&u.removeEventListener("pagehide",e)}},[o,u,t]),n(()=>(be&&(Ai()?(ku=u.document.getElementById("dcv-display")?.getElementsByTagName("canvas"),ku&&ku.length>0&&ku[0].addEventListener("webglcontextlost",dt)):u.addEventListener("resize",Pe),u.matchMedia("(orientation: portrait)").addEventListener("change",Pe),fe&&xe===Ui||xe===ji?(u.document.getElementById("dcv-container")&&u.document.getElementById("dcv-container").addEventListener("mousemove",tt),u.document.getElementById("dcv-display")&&(u.document.getElementById("dcv-display").addEventListener("focusin",nt),Ai()&&u.document.getElementById("dcv-display").addEventListener("touchstart",nt)),u.document.getElementById("dcv-toolbar-container")&&(u.document.getElementById("dcv-toolbar-container").addEventListener("mouseleave",rt),u.document.getElementById("dcv-toolbar-container").addEventListener("mousemove",ot)),Ai()&&yo.on("toggle-toolbar",lt),ge(!1)):(clearTimeout(Be.current),ge(!0)),v(!1)),()=>{Ai()?ku&&ku.length>0&&ku[0].removeEventListener("webglcontextlost",dt):u.removeEventListener("resize",Pe),u.matchMedia("(orientation: portrait)").removeEventListener("change",Pe),u.document.getElementById("dcv-container")&&u.document.getElementById("dcv-container").removeEventListener("mousemove",tt),u.document.getElementById("dcv-display")&&(u.document.getElementById("dcv-display").removeEventListener("focusin",nt),Ai()&&u.document.getElementById("dcv-display").removeEventListener("touchstart",nt)),u.document.getElementById("dcv-toolbar-container")&&(u.document.getElementById("dcv-toolbar-container").removeEventListener("mouseleave",rt),u.document.getElementById("dcv-toolbar-container").removeEventListener("mousemove",ot)),Ai()&&yo.off("toggle-toolbar",lt)}),[be,xe,fe,o,t,u]),n(()=>{b&&!he||tc(o,u,t)},[xe,fe]),n(()=>{const e=ia();return sa(Ee,u.document.body),e&&(we(e.matches?P.Dark:P.Light),e.addEventListener("change",ct)),()=>{e&&e.removeEventListener("change",ct)}},[Ee]),n(()=>{m&&Se(m)},[m]),n(()=>{h&&ke(h)},[h]);const mt=a(()=>se&&t&&Iu(e.createElement(e.Fragment,null,e.createElement(d,{variant:le?"primary":"normal",onClick:()=>{yo.emit("toggle-keyboard")},ariaLabel:"Virtual keyboard"},(le?"Close":"Open")+" keyboard"),e.createElement(Gl,{connection:o,softKeyboardVisible:le,setSoftKeyboardVisible:ue}))),[t,le,se]),ft=a(()=>e.createElement(p,{direction:"horizontal",size:"m"},t&&J&&e.createElement(kl,{connection:o,downloadEnabled:ee,uploadEnabled:ne}),(j||K)&&e.createElement(rs,{connection:o,copyEnabled:j,pasteEnabled:K,currentWindow:u}),t&&Ru(R)&&Ru(I)&&e.createElement(Bc,{connection:o}),t&&Ru(I)&&e.createElement(qc,{connection:o}),t&&pi(D)&&e.createElement(ml,{connection:o,status:D,selectedWebcam:B,setSelectedWebcam:N}),t&&de&&Ne("multimonitorButton")&&e.createElement(pu,{connection:o,copyEnabled:j,pasteEnabled:K,appearanceMode:Ee,toolbarBehavior:xe,pendingDisplays:xu}),Ne("fullscreenButton")&&u.document.documentElement.requestFullscreen&&!Pi()&&!Fi()&&e.createElement(Ws,{setFullscreen:at,currentDocument:u.document})),[t,J,o,ee,ne,j,K,R,I,D,B,N,de,j,K,Ee,xe,xu,at,Ne,u]),pt=a(()=>e.createElement(f,{textAlign:"center"},e.createElement(el,{connection:o})),[o]),ht=a(()=>e.createElement(f,{float:"right"},e.createElement("div",{style:yu},t&&mt,t&&W&&Iu(e.createElement(Ul,{connection:o})),Iu(e.createElement(Il,null)),Iu(e.createElement(Tc,{connection:o,relativeMouseModeEnabled:y,sasEnabled:S,focusDisplay:it,screenshotEnabled:k,currentResolution:C,submitResolutionPreferences:Ve,submitMetricsPreferences:Z,submitAppearanceModePreferences:Se,submitToolbarBehaviorPreferences:ke,webcamStatus:D,webcamId:B,setWebcamId:N,systemDefaultAppearanceMode:ye,timezoneRedirectionSetting:Me})))),[t,mt,o,W,y,S,k,C,D,B,ye,Me]),gt=a(()=>e.createElement(f,{display:he?"block":"none",padding:{left:"s",right:"s",top:"xs",bottom:"xs"}},e.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},ft,t&&Y&&pt,t&&ht)),[he,ft,t,Y,pt,ht,mt]),bt=a(()=>e.createElement("div",{id:"dcv-toolbar-container",style:{backgroundColor:V,borderBottom:`1px solid ${U}`,...xe===ji||fe&&xe===Ui?vu:{}}},gt),[xe,fe,gt]),vt=a(()=>e.createElement("div",{style:{backgroundColor:H}},e.createElement("div",{style:{height:fi(u)-1}},e.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",msTransform:"translate(-50%, -50%)"}},e.createElement(p,{size:"m"},e.createElement(f,{textAlign:"center"},e.createElement(_,{size:"large"})),e.createElement(f,{fontWeight:"light",variant:"h1"},"Connecting"))))),[u]),yt=a(()=>e.createElement("div",{style:{display:Te?"block":"none",zIndex:"1009",position:"absolute",top:"4%",left:"50%",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",msTransform:"translate(-50%, -50%)"}},e.createElement(w,{type:"warning",header:"Network connection is unstable"},"Please check your network connection or VPN.")),[u,Te]),wt=a(()=>e.createElement("div",{style:{display:Ae?"block":"none",zIndex:"1009",position:"absolute",top:"4%",left:"50%",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",msTransform:"translate(-50%, -50%)"}},e.createElement(w,{type:"error",header:"Network connection is not available"},"Please check your network connection or VPN.")),[u,Ae]);let Et=!(xe===$i||fe&&xe===Wi);const St=a(()=>{const t=u.document.getElementById("dcv-input");return o?.setTrackpadMode(oe),t?e.createElement("div",{id:"trackpad-mode-buttons",style:{position:"absolute",left:"87px",bottom:"87px",zIndex:"1",opacity:"0.7"},onMouseMove:e=>{const n=new MouseEvent(e.type,e);t.dispatchEvent(n),e.preventDefault()},onMouseDown:e=>{const n=new MouseEvent(e.type,e);t.dispatchEvent(n),e.preventDefault()},onMouseUp:e=>{const n=new MouseEvent(e.type,e);t.dispatchEvent(n),e.preventDefault()},onTouchStart:e=>e.preventDefault(),onTouchEnd:e=>e.preventDefault()},e.createElement("button",{"aria-label":"Left mouse button",onTouchStart:()=>{o.sendMouseButton(1,!0)},onTouchEnd:()=>{o.sendMouseButton(1,!1)},onClick:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),style:{height:"100px",backgroundColor:H,fill:q}},e.createElement(fa,null)),e.createElement("button",{"aria-label":"Right mouse button",onTouchStart:()=>{o.sendMouseButton(3,!0)},onTouchEnd:()=>{o.sendMouseButton(3,!1)},onClick:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),style:{position:"relative",left:"17px",height:"100px",backgroundColor:H,fill:q}},e.createElement(ha,null))):null},[be]);return e.createElement("div",{id:"dcv-container",style:bu},b&&!he?vt:Ne("visible")&&bt,yt,wt,e.createElement("div",{style:{display:b&&!he?"none":"block",backgroundColor:H}},!b&&oe&&St,e.createElement("div",{id:"dcv-display-frame",style:{height:oc(u,Et),width:ic(u),overflow:ua.scaleToFit?"hidden":"auto"}},e.createElement("div",{id:"dcv-display",ref:Fe,style:gu})),e.createElement("div",{id:"dcv-resource",tabIndex:"-1"}),e.createElement("div",{id:"soft-kbd-div",style:{position:"absolute",top:0,zIndex:-1e3}})))}function Ru(e){return-1!==["available","attached","active"].indexOf(e)}function Tu(){null!==Mu&&(bc(Mu),Mu=null)}function Iu(t){return e.createElement("div",{style:wu},t)}function Au(e){if(null===e){const e=xu.indexOf(Su);-1!==e&&xu.splice(e,1)}Su=e}function Du(){return Su}Ou.propTypes={isPrimary:s.bool,connection:s.object,copyEnabled:s.bool,pasteEnabled:s.bool,window:s.object,appearanceMode:s.oneOf([Qi,Gi,Ki]),toolbarBehavior:s.oneOf([ji,Ui,Hi]),uiConfig:s.exact({toolbar:s.exact({visible:s.bool,fullscreenButton:s.bool,multimonitorButton:s.bool})})};var Fu=t(Ou);const Bu=ae("License Handler");let _u=null;function Nu(e){let t=365,n="",r={};e.licenses.forEach(e=>{e.isDemo&&Bu.info(`License status: product '${e.product}' is using a demo license (${e.leftDays} days left)`),e.leftDays>0&&e.leftDays<t&&(t=e.leftDays,n=e.product)}),0===e.numUnlicensed?(Bu.debug(`License status: ${e.licenses.length} products licensed`),r.level=fc.INFO,"demo"===e.licensingMode&&t<7?r.header="DCV demo license.":r.header="DCV license.",t<7?(Bu.info(`License status: product '${n}' will expire in ${t} days`),r.description=`License of '${n}' will expire in ${t} days.`):"demo"===e.licensingMode&&(r.description="DCV is running with a demo license.")):(Bu.warn(`License error (mode: ${e.licensingMode}), ${e.numUnlicensed}/${e.licenses.length} products unlicensed: ${JSON.stringify(e.licenses)}`),r.header="No license available.","ec2"===e.licensingMode?(r.level=fc.WARNING,r.description="Please, check your EC2 configuration.",null!==e.documentationUrl&&""!==e.documentationUrl&&(r.actions={},r.actions.accept={text:"See documentation",callback:()=>{const t=document.createElement("a");t.href=e.documentationUrl,t.target="_blank",t.click()}})):(r.level=fc.ERROR,r.description="Please, contact the administrator.")),r.description&&(_u=gc(r,_u))}const Pu=ae("Printer");function Lu(e){gc({level:fc.INFO,header:"File printed.",description:`${e.id} has been converted in printable format.`,actions:{accept:{text:"Download",callback:()=>{return t=e,Pu.debug(`Accepting print resource ${t.id}`),void t.accept({disposition:"attachment"});var t},remove:!0},decline:{text:"Decline",callback:()=>{return t=e,Pu.debug(`Removing print resource ${t.id}`),void t.decline();var t},remove:!0}}}),Pu.debug(`Added printer notification for resource ${e.id}`)}const $u=ae("DCVBaseViewer");let ju,zu;function Wu(t){const[o,i]=e.useState(null),a=r(o),s=e=>{ci(t.onDisconnect)&&t.onDisconnect(e),a.current=null},l=e=>{let t,n=`${li(e.namespace)?"":`${e.namespace}::`}${e.name}`;0!==ua.customChannels.length&&-1!==(()=>{const t=[];return ua.customChannels.forEach(n=>{if(li(e.namespace)){const e=n.split("::",2);t.push(e[e.length-1])}else t.push(n)}),t})().indexOf(n)?o.openChannel(e.name,e.authToken,{onMessageReceived:e=>{$u.info(`Custom channel: received message ${new TextDecoder("utf-8").decode(e)}`),t(e)},onClose:e=>$u.info(`Custom channel closed: ${JSON.stringify(e)}`)},e.namespace).then(e=>{$u.info(`Opened custom channel ${e.channelName}`),t=t=>{e.sendMessage(t).then(()=>{$u.info("Success sending message.")}).catch(e=>{$u.error(`Failed to send message: ${JSON.stringify(e)}`)})}}).catch(e=>{$u.error(`Failed to open custom channel: ${e.message}`)}):$u.info(`Custom channel '${n}' not supported`)},u=e=>{switch(e.name){case"TwoFingerTouch":yo.emit("toggle-keyboard");break;case"ThreeFingerTouch":yo.emit("toggle-toolbar")}},d=()=>{$u.info("Calling client.connect");const n={displayLayout:(e,t,n)=>{yo.emit("display-layout",e,t,n)},firstFrame:(e,t,n)=>{yo.emit("first-frame",e,t,n)},displayAvailability:(e,t)=>{yo.emit("display-availability",e,t)},disconnect:s,licenseNotification:Nu,idleWarningNotification:e=>{!function(e){let t;e?(t=`DCV connection is idle and is going to be disconnected at ${e.toString()}`,$u.info(t),ju=gc({level:fc.WARNING,header:"Idle timeout.",description:t,actions:{dismissable:!0}},ju)):ju&&(bc(ju),ju=null)}(e)},dataChannel:e=>{yo.emit("custom-channel",e)},filePrinted:e=>{Lu(e)},fileDownload:e=>{yo.emit("file-download",e)},qualityIndicatorState:t=>{$u.info(`Quality Indicators: ${JSON.stringify(t)}`),function(t){let n=0,r=[],o="Quality status update.";switch(t.indicators.forEach(t=>{r.push(e.createElement(f,{key:t.name},`${t.name.replace("_"," ")} status: ${t.status}`)),t.changed&&$u.info(`Indicator ${t.name} has changed to status ${t.status}`),t.status>n&&(n=t.status)}),$u.info(`Current Quality Indicator overall alarm state: ${n}`),n){case 1:zu=gc({level:fc.WARNING,header:o,description:r,actions:{dismissable:!0}},zu);break;case 2:zu=gc({level:fc.ERROR,header:o,description:r,actions:{dismissable:!0}},zu);break;default:zu&&(bc(zu),zu=null)}}(t)},filestorageEnabled:e=>{yo.emit("filestorage-enabled",e)},...Ai()&&{gestureEvent:u},clipboardEvent:e=>{yo.emit("clipboard",e)},deviceChangeEvent:function(){yo.emit("device-change")},featuresUpdate:Ea,screenshot:e=>{yo.emit("screenshot",e)},collaboratorList:e=>{$l(e)},networkQualityChange:e=>{!function(e){switch($u.info(`Network Quality Change: ${e.quality}`),e.quality){case"WARNING":Uu("network-quality-warning");break;case"CRITICAL":Uu("network-quality-critical");break;default:Uu()}}(e)}},r={url:t.config.url,sessionId:t.config.sessionId,authToken:t.config.authToken,enabledChannels:t.config.enabledChannels||ua.enabledChannels,displayCodecs:t.config.displayCodecs||ua.displayCodecs,divId:t.config.divId||"dcv-display",showDebugLayer:t.config.showDebugLayer||ua.debugLayer,enableGraphicsDebugLayer:t.config.enableGraphicsDebugLayer||ua.enableGraphicsDebugLayer,clientHiDpiScaling:t.config.clientHiDpiScaling||ua.clientHiDpiScaling,enableHighPixelDensity:t.config.enableHighPixelDensity||ua.enableHighPixelDensity,enableWebCodecs:t.config.enableWebCodecs||ua.enableWebCodecs,highColorAccuracy:t.config.highColorAccuracy||ua.highColorAccuracy,losslessColorspace:t.config.losslessColorspace||ua.losslessColorspace,baseUrl:t.config.baseUrl,resourceBaseUrl:t.config.resourceBaseUrl||"",extensionData:t.config.extensionData||"",volumeLevel:t.config.volumeLevel||ua.volume,clipboardAutoSync:t.config.clipboardAutoSync,dynamicAudioTuning:t.config.dynamicAudioTuning,observers:t.config.observers||n,callbacks:t.config.callbacks};Object.keys(r).forEach(e=>{li(r[e])&&delete r[e]}),c.connect(r).then(e=>{i(e),a.current=e;const n=t.customTitle||`${e.getServerInfo().hostname} - Amazon DCV`;document.title=n,t.customTitle&&$u.info(`Using custom browser title: ${t.customTitle}`),ci(t.onConnectionEstablished)&&t.onConnectionEstablished(e)}).catch(e=>{$u.error(`client.connect was rejected (${e.message})`),ci(t.onDisconnect)&&t.onDisconnect(e.message),a.current=null})};return n(()=>{t.config.sessionId&&t.config.authToken&&!o&&(re.setLevel(t.logLevel),d())},[t.config.sessionId,t.config.authToken]),n(()=>()=>{$u.info("Calling connection.disconnect"),a.current&&a.current.disconnect()},[]),n(()=>(yo.on("custom-channel",l),()=>{yo.off("custom-channel",l)}),[o]),e.createElement(Fu,{isPrimary:!0,connection:o,window:window,uiConfig:t.uiConfig})}function Uu(e=""){switch(yo.emit("network-quality-warning",!1),yo.emit("network-quality-critical",!1),e){case"network-quality-warning":case"network-quality-critical":yo.emit(e,!0);break;case"":break;default:$u.warn(`Unknown input passed to emitNetworkQualitySignal: ${e}`)}}Wu.propTypes={config:s.shape({url:s.string.isRequired,sessionId:s.string.isRequired,authToken:s.string.isRequired,baseUrl:s.string,resourceBaseUrl:s.string,extensionData:s.string,connectionMetadata:s.object,enabledChannels:s.array,connectionFailureRetryAttempts:s.number,connectionBlockRetryAttempts:s.number,losslessColorspace:s.string,divId:s.string,volumeLevel:s.number,clipboardAutoSync:s.bool,dynamicAudioTuning:s.bool,clientHiDpiScaling:s.bool,highColorAccuracy:s.bool,enableHighPixelDensity:s.bool,enableWebCodecs:s.bool,enableGraphicsDebugLayer:s.bool,showDebugLayer:s.oneOfType([s.bool,s.number]),displayCodecs:s.array,observers:s.object,callbacks:s.object}).isRequired,uiConfig:s.exact({toolbar:s.exact({visible:s.bool,fullscreenButton:s.bool,multimonitorButton:s.bool})}),onDisconnect:s.func,logLevel:s.oneOf(Object.values(re.levels)),onConnectionEstablished:s.func,customTitle:s.string};const Vu=ae("DCVViewer");function Hu(t){const n={url:t.dcv.serverUrl,sessionId:t.dcv.sessionId,authToken:t.dcv.authToken,baseUrl:t.dcv.baseUrl,resourceBaseUrl:t.dcv.resourceBaseUrl,extensionData:t.dcv.extensionData,clipboardAutoSync:!0,dynamicAudioTuning:!0};return Vu.info("Creating DCVViewer component."),e.createElement(Wu,{config:n,uiConfig:t.uiConfig,onDisconnect:t.dcv.onDisconnect,logLevel:t.dcv.logLevel,customTitle:t.dcv.customTitle})}Hu.propTypes={dcv:s.exact({sessionId:s.string.isRequired,authToken:s.string.isRequired,serverUrl:s.string.isRequired,baseUrl:s.string.isRequired,resourceBaseUrl:s.string,extensionData:s.string,onDisconnect:s.func,logLevel:s.oneOf(Object.values(re.levels)),customTitle:s.string}).isRequired,uiConfig:s.exact({toolbar:s.exact({visible:s.bool,fullscreenButton:s.bool,multimonitorButton:s.bool})})};export{Hu as DCVViewer};
